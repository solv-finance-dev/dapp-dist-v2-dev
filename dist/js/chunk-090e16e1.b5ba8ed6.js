(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-090e16e1"],{b70f:function(e,t,o){"use strict";o.r(t);o("b0c0"),o("ac1f"),o("1276");var c=o("7a23"),a=Object(c.withScopeId)("data-v-117e9bd6");Object(c.pushScopeId)("data-v-117e9bd6");var r={class:"voucher-details-top"},n={class:"voucher-details-top__header"},i={class:"header-left"},l={class:"header-right"},u={class:"voucher-details-top__body"},s={class:"voucher-image__inner"},v={class:"voucher-info__inner"},d={class:"base-info"},b={class:"base-info__top"},h={class:"amount-label"},m={class:"amount-text"},f={class:"voucher-symbol"},O={class:"amount-label text-right"},j={class:"text-right"},g={class:"amount-text"},p=Object(c.createVNode)("span",{class:"voucher-symbol"},Object(c.toDisplayString)("%"),-1),D={class:"base-info__bottom"},y={key:0,class:"base-label"},k={class:"base-value"},V={key:0,class:"base-label text-right"},I={key:0,class:"base-value text-right"},S={class:"base-info__bottom"},N={key:0,class:"base-label"},C={class:"base-value"},T={key:0,class:"base-label text-right"},_={class:"base-value text-right"},w={key:0,class:"price-range-tip"},B={class:"price-range-tip__entry__inner"},x={class:"range-text"},P={class:"voucher-details-action__inner"},R={class:"action-item action-left"},F={class:"action-item action-right"};Object(c.popScopeId)();var $=a((function(e,t,o,$,M,A){var U,L,z,E,W,H,J,q,G=Object(c.resolveComponent)("DaSkeleton"),K=Object(c.resolveComponent)("OutputHref"),Q=Object(c.resolveComponent)("DaCard"),X=Object(c.resolveComponent)("el-col"),Y=Object(c.resolveComponent)("DaItem"),Z=Object(c.resolveComponent)("PledgeRate"),ee=Object(c.resolveComponent)("el-row"),te=Object(c.resolveComponent)("DaButton"),oe=Object(c.resolveComponent)("PageWrapper"),ce=Object(c.resolveComponent)("ClaimConvertibleVoucher"),ae=Object(c.resolveComponent)("TransferConvertibleVoucher"),re=Object(c.resolveComponent)("SplitConvertibleVoucher"),ne=Object(c.resolveComponent)("MergeConvertibleVoucher"),ie=Object(c.resolveComponent)("DeleteVoucher");return Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,[Object(c.createVNode)(oe,{showBreadcrumbs:!0},{default:a((function(){var o,$,M,A;return[Object(c.createVNode)("div",r,[Object(c.createVNode)("div",n,[Object(c.createVNode)(G,{visible:!(null!==(o=e.voucherData.voucherTokenSchema)&&void 0!==o&&o.name),height:e.$filters.pxToRem(36),width:e.$filters.pxToRem(320),parentWidth:"auto"},{default:a((function(){var t,o,a;return[Object(c.createVNode)("div",i,[Object(c.createVNode)("img",{src:e.$filters.getTokenLocalLogo(null===(t=e.voucherData.voucherTokenSchema)||void 0===t?void 0:t.logoURI,null===(o=e.voucherData.voucherTokenSchema)||void 0===o?void 0:o.underlyingToken.symbol),class:"token-logo"},null,8,["src"]),Object(c.createVNode)("span",null,Object(c.toDisplayString)(null===(a=e.voucherData.voucherTokenSchema)||void 0===a?void 0:a.name)+" #"+Object(c.toDisplayString)(e.voucherData.voucherId),1)])]})),_:1},8,["visible","height","width"]),Object(c.createVNode)("div",l,[Object(c.createVNode)(K,{voucherId:e.voucherData.voucherId,voucherAddress:null===($=e.voucherData.voucherTokenSchema)||void 0===$?void 0:$.address,underlyingSymbol:null===(M=e.voucherData.voucherTokenSchema)||void 0===M?void 0:M.underlyingToken.symbol,underlyingAddress:null===(A=e.voucherData.voucherTokenSchema)||void 0===A?void 0:A.underlyingToken.address},null,8,["voucherId","voucherAddress","underlyingSymbol","underlyingAddress"])])]),Object(c.createVNode)("div",u,[Object(c.createVNode)(ee,{gutter:32,class:"voucher-info-module"},{default:a((function(){return[Object(c.createVNode)(X,{span:12},{default:a((function(){return[Object(c.createVNode)(Q,{class:"voucher-image"},{default:a((function(){return[Object(c.createVNode)("div",s,[e.voucherData.voucherImage?(Object(c.openBlock)(),Object(c.createBlock)("img",{key:0,src:e.voucherData.voucherImage,alt:"cher-image__entry"},null,8,["src"])):Object(c.createCommentVNode)("",!0)])]})),_:1})]})),_:1}),Object(c.createVNode)(X,{span:12},{default:a((function(){return[Object(c.createVNode)(Q,{class:"voucher-info"},{default:a((function(){return[Object(c.createVNode)("div",v,[Object(c.createVNode)("div",d,[Object(c.createVNode)("div",b,[Object(c.createVNode)(Y,null,{label:a((function(){return[Object(c.createVNode)("span",h,Object(c.toDisplayString)(e.t("Face Value")),1)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(160),height:e.$filters.pxToRem(32)},{default:a((function(){var t,o,a;return[Object(c.createVNode)("span",m,Object(c.toDisplayString)(e.solvMisc.formatOrderPrice((null===(t=e.voucherData.voucherInfo)||void 0===t?void 0:t.units)||0,(null===(o=e.voucherData.voucherInfo)||void 0===o?void 0:o.underlyingDecimals)||"0")),1),Object(c.createVNode)("span",f,Object(c.toDisplayString)(e.voucherData.voucherInfo?null===(a=e.voucherData.voucherInfo.fundCurrencyInfo)||void 0===a?void 0:a.currencySymbol:"--"),1)]})),_:1},8,["visible","width","height"])]})),_:1}),Object(c.createVNode)(Y,null,{label:a((function(){return[Object(c.createVNode)("span",O,Object(c.toDisplayString)(e.t("Risk Tolerance")),1)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(160),height:e.$filters.pxToRem(32)},{default:a((function(){var t;return[Object(c.createVNode)("div",j,[Object(c.createVNode)("span",g,[Object(c.createVNode)(Z,{voucherTokenSchema:e.voucherData.voucherTokenSchema,lowestPrice:null===(t=e.voucherData.voucherInfo)||void 0===t?void 0:t.lowestPrice,showUnit:!1},null,8,["voucherTokenSchema","lowestPrice"])]),p])]})),_:1},8,["visible","width","height"])]})),_:1})]),Object(c.createVNode)("div",D,[Object(c.createVNode)(Y,null,{label:a((function(){return[e.voucherData.voucherInfo?(Object(c.openBlock)(),Object(c.createBlock)("span",y,Object(c.toDisplayString)(e.t("Maturity Date (UTC)")),1)):Object(c.createCommentVNode)("",!0)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(200),height:e.$filters.pxToRem(32)},{default:a((function(){var t;return[Object(c.createVNode)("span",k,Object(c.toDisplayString)(e.voucherData.voucherInfo?e.$filters.dateUTCFormat(1e3*(null===(t=e.voucherData.voucherInfo)||void 0===t?void 0:t.maturity)):"--"),1)]})),_:1},8,["visible","width","height"])]})),_:1}),Object(c.createVNode)(Y,null,{label:a((function(){return[e.voucherData.voucherInfo?(Object(c.openBlock)(),Object(c.createBlock)("span",V,Object(c.toDisplayString)(e.t("Price Range")),1)):Object(c.createCommentVNode)("",!0)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(200),height:e.$filters.pxToRem(32)},{default:a((function(){var t;return[e.voucherData.voucherInfo?(Object(c.openBlock)(),Object(c.createBlock)("span",I,Object(c.toDisplayString)(e.solvMisc.formatOrderPrice(e.voucherData.voucherInfo.lowestPrice,8,2))+" - "+Object(c.toDisplayString)(e.solvMisc.formatOrderPrice(e.voucherData.voucherInfo.highestPrice,8,2))+" "+Object(c.toDisplayString)(e.voucherData.voucherInfo?null===(t=e.voucherData.voucherInfo.fundCurrencyInfo)||void 0===t?void 0:t.currencySymbol:"--"),1)):Object(c.createCommentVNode)("",!0)]})),_:1},8,["visible","width","height"])]})),_:1})]),Object(c.createVNode)("div",S,[Object(c.createVNode)(Y,null,{label:a((function(){return[e.voucherData.voucherInfo?(Object(c.openBlock)(),Object(c.createBlock)("span",N,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Claimable"))+" ",1),e.claimableInfo.isExpire?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createTextVNode)(" @ "+Object(c.toDisplayString)(e.t("Current Price")),1)],64))])):Object(c.createCommentVNode)("",!0)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(200),height:e.$filters.pxToRem(32)},{default:a((function(){var t,o;return[Object(c.createVNode)("span",C,Object(c.toDisplayString)(e.voucherData.voucherTokenSchema?e.solvMisc.formatOrderPrice(e.claimableInfo.value,null===(t=e.voucherData.voucherTokenSchema)||void 0===t?void 0:t.underlyingToken.decimals):"--")+" "+Object(c.toDisplayString)(null===(o=e.voucherData.voucherTokenSchema)||void 0===o?void 0:o.underlyingToken.symbol),1)]})),_:1},8,["visible","width","height"])]})),_:1}),Object(c.createVNode)(Y,null,{label:a((function(){var t;return[e.voucherData.voucherInfo?(Object(c.openBlock)(),Object(c.createBlock)("span",T,Object(c.toDisplayString)(e.t(e.claimableInfo.isExpire?"Settlement Price":"Current Price"))+" ("+Object(c.toDisplayString)(null===(t=e.voucherData.voucherTokenSchema)||void 0===t?void 0:t.underlyingToken.symbol)+") ",1)):Object(c.createCommentVNode)("",!0)]})),value:a((function(){return[Object(c.createVNode)(G,{visible:!e.loadFinish,width:e.$filters.pxToRem(200),height:e.$filters.pxToRem(32)},{default:a((function(){var t;return[Object(c.createVNode)("span",_,Object(c.toDisplayString)(e.claimableInfo.settlePrice)+" "+Object(c.toDisplayString)(e.voucherData.voucherInfo?null===(t=e.voucherData.voucherInfo.fundCurrencyInfo)||void 0===t?void 0:t.currencySymbol:"--"),1)]})),_:1},8,["visible","width","height"])]})),_:1})]),e.claimableInfo.range.value&&e.voucherData.voucherInfo&&e.loadFinish?(Object(c.openBlock)(),Object(c.createBlock)("div",w,[Object(c.createVNode)("div",{class:["price-range-tip__entry",e.claimableInfo.range.value]},[Object(c.createVNode)("div",B,["up"===e.claimableInfo.range.value?(Object(c.openBlock)(),Object(c.createBlock)("img",{key:0,src:e.commonData.conUp,class:"point"},null,8,["src"])):Object(c.createCommentVNode)("",!0),"normal"===e.claimableInfo.range.value?(Object(c.openBlock)(),Object(c.createBlock)("img",{key:1,src:e.commonData.conNormal,class:"point"},null,8,["src"])):Object(c.createCommentVNode)("",!0),"down"===e.claimableInfo.range.value?(Object(c.openBlock)(),Object(c.createBlock)("img",{key:2,src:e.commonData.conDown,class:"point"},null,8,["src"])):Object(c.createCommentVNode)("",!0),Object(c.createVNode)("span",x,Object(c.toDisplayString)(e.claimableInfo.range.label),1)])],2)])):Object(c.createCommentVNode)("",!0)])])]})),_:1})]})),_:1})]})),_:1})]),e.showAction?(Object(c.openBlock)(),Object(c.createBlock)(Q,{key:0,class:"voucher-details-action"},{default:a((function(){var o;return[Object(c.createVNode)("div",P,[Object(c.createVNode)("div",R,[Object(c.createVNode)(te,{class:"action-btn action-btn-extend",size:"mini",onClick:t[1]||(t[1]=function(t){return e.visibleDialog.transfer=!0})},{default:a((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Transfer")),1)]})),_:1}),Object(c.createVNode)(te,{class:"action-btn action-btn-extend",size:"mini",onClick:e.handleMergeDialog},{default:a((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Merge")),1)]})),_:1},8,["onClick"]),Object(c.createVNode)(te,{class:"action-btn action-btn-extend",size:"mini",onClick:e.handleSplitDialog},{default:a((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Split")),1)]})),_:1},8,["onClick"])]),Object(c.createVNode)("div",F,[Object(c.createVNode)(te,{class:"action-btn action-btn-extend",size:"mini",onClick:e.bindClaim,disabled:e.disabledClaim((null===(o=e.voucherData.voucherInfo)||void 0===o?void 0:o.maturity)||0)},{default:a((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Claim")),1)]})),_:1},8,["onClick","disabled"]),Object(c.createVNode)(te,{class:"action-btn",size:"mini",disabled:!0,onClick:e.handleAction},{default:a((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("List")),1)]})),_:1},8,["onClick"])])])]})),_:1})):Object(c.createCommentVNode)("",!0)])]})),_:1}),e.visibleDialog.claim?(Object(c.openBlock)(),Object(c.createBlock)(ce,{key:0,voucherId:(null===(U=e.voucherData)||void 0===U?void 0:U.voucherId)+"",voucherSymbol:null===(L=e.voucherData)||void 0===L?void 0:L.voucherSymbol,visible:e.visibleDialog.claim,onClose:t[2]||(t[2]=function(t){return e.visibleDialog.claim=!1})},null,8,["voucherId","voucherSymbol","visible"])):Object(c.createCommentVNode)("",!0),e.visibleDialog.transfer?(Object(c.openBlock)(),Object(c.createBlock)(ae,{key:1,visible:e.visibleDialog.transfer,instance:e.voucherData.voucherInfo,onClose:t[3]||(t[3]=function(t){return e.visibleDialog.transfer=!1})},null,8,["visible","instance"])):Object(c.createCommentVNode)("",!0),e.visibleDialog.split?(Object(c.openBlock)(),Object(c.createBlock)(re,{key:2,voucherId:(null===(z=e.voucherData)||void 0===z?void 0:z.voucherId)+"",voucherSymbol:null===(E=e.voucherData)||void 0===E?void 0:E.voucherSymbol,visible:e.visibleDialog.split,onClose:t[4]||(t[4]=function(t){return e.visibleDialog.split=!1})},null,8,["voucherId","voucherSymbol","visible"])):Object(c.createCommentVNode)("",!0),e.visibleDialog.merge?(Object(c.openBlock)(),Object(c.createBlock)(ne,{key:3,voucherId:(null===(W=e.voucherData)||void 0===W?void 0:W.voucherId)+"",voucherSymbol:null===(H=e.voucherData)||void 0===H?void 0:H.voucherSymbol,visible:e.visibleDialog.merge,onClose:t[5]||(t[5]=function(t){return e.visibleDialog.merge=!1})},null,8,["voucherId","voucherSymbol","visible"])):Object(c.createCommentVNode)("",!0),e.visibleDialog.delete?(Object(c.openBlock)(),Object(c.createBlock)(ie,{key:4,voucherId:(null===(J=e.voucherData)||void 0===J?void 0:J.voucherId)+"",voucherSymbol:null===(q=e.voucherData)||void 0===q?void 0:q.voucherSymbol,visible:e.visibleDialog.delete,onClose:t[6]||(t[6]=function(t){return e.visibleDialog.delete=!1}),needBack:!0},null,8,["voucherId","voucherSymbol","visible"])):Object(c.createCommentVNode)("",!0)],64)})),M=(o("a9e3"),o("d3b7"),o("25f0"),o("9ab4")),A=o("3032"),U=o.n(A),L=o("cc2e"),z=o.n(L),E=o("624f"),W=o.n(E),H=o("e205"),J=o("6363"),q=o("5aec"),G=o("9998"),K=o("d476"),Q=o("46e5"),X=o("5fbb"),Y=o("0114"),Z=o("a6f3"),ee=o("d0f3"),te=o("54e4"),oe=o("f41c"),ce=o("58d7"),ae=o("2739"),re=o("2020"),ne=o("9707"),ie=o("1d85"),le=o("1c5c"),ue=o("8e83"),se=o("5cc2"),ve=o("9af8"),de=o("901e"),be=o.n(de),he=o("47e2"),me=o("6c02"),fe=Object(c.defineComponent)({components:{PageWrapper:oe.a,DaSkeleton:G.a,DaCard:J.a,DaItem:q.a,DaButton:H.a,ClaimConvertibleVoucher:Q.a,TransferConvertibleVoucher:te.a,SplitConvertibleVoucher:ee.a,MergeConvertibleVoucher:Y.a,OutputHref:Z.a,DeleteVoucher:X.a,PledgeRate:K.a},setup:function(){var e=Object(he.b)().t,t=Object(me.c)().params,o=Object(le.a)().getters,a=(Object(me.d)().push,Object(c.reactive)({flexibleReleaseTerm:0,tgeTimeView:"",disabledConvertibleClaim:!0,range:{label:"",value:""},oraclePrice:0,conUp:W.a,conNormal:z.a,conDown:U.a})),r=Object(c.reactive)({voucherId:t.voucherId+"",voucherSymbol:t.voucherSymbol+"",voucherImage:""}),n=Object(c.ref)(!1),i=Object(c.ref)(""),l=Object(c.reactive)({claim:!1,transfer:!1,split:!1,merge:!1,splitFlexible:!1,mergeFlexible:!1,claimFlexible:!1,delete:!1}),u=ae.a,s=Object(c.reactive)({currencySymbol:""}),v=Object(ue.b)(s).tokenValueInfo,d=Object(c.computed)((function(){return r.voucherInfo&&r.voucherInfo.owner.toLowerCase()===o.getAccount.toLowerCase()}));function b(){!function(){var e,t;Object(M.b)(this,void 0,void 0,(function(){var o;return Object(M.e)(this,(function(c){switch(c.label){case 0:return r.voucherTokenSchema?[4,Object(ie.c)().getVoucherInfo(r.voucherTokenSchema,r.voucherId)]:[2];case 1:return o=c.sent(),r.voucherInfo=Object(se.a)([o])[0],s.currencySymbol=(null===(e=r.voucherInfo)||void 0===e?void 0:e.underlyingSymbol)||"",r.voucherImage=ne.a.base64Decode((null===(t=r.voucherInfo)||void 0===t?void 0:t.URI)+"").image,i.value=r.voucherImage,[4,h()];case 2:return c.sent(),n.value=!0,[2]}}))}))}()}function h(){var e;return Object(M.b)(this,void 0,void 0,(function(){var t,c;return Object(M.e)(this,(function(n){switch(n.label){case 0:if(!r.voucherTokenSchema||!r.voucherInfo)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new re.Oracle(ce.a[o.getChainId].address,o.getProvider).getPriceOfTokenId(null===(e=r.voucherTokenSchema)||void 0===e?void 0:e.address,r.voucherId)];case 2:return t=n.sent(),a.oraclePrice=Number(t),[3,4];case 3:return c=n.sent(),console.error(c),[3,4];case 4:return[2]}}))}))}var m=Object(c.computed)((function(){var e,t,o,c,n={isExpire:!1,value:"0",settlePrice:0,range:{label:"",value:""}};if(r.voucherInfo&&r.voucherTokenSchema){var i=ne.a.tokenDivDecimals(r.voucherInfo.units,r.voucherInfo.underlyingDecimals),l=ne.a.tokenDivDecimals(r.voucherInfo.highestPrice,r.voucherInfo.underlyingDecimals-(null===(e=r.voucherTokenSchema)||void 0===e?void 0:e.underlyingToken.decimals)),u=ne.a.tokenDivDecimals(r.voucherInfo.lowestPrice,r.voucherInfo.underlyingDecimals-(null===(t=r.voucherTokenSchema)||void 0===t?void 0:t.underlyingToken.decimals)),s=ne.a.comp(r.voucherInfo.settlePrice,"0")?r.voucherInfo.settlePrice+"":a.oraclePrice+"";ne.a.compOrEqual(ne.a.getCurrentTime(),new Date(1e3*r.voucherInfo.maturity).getTime()/1e3)?(s=ne.a.tokenDivDecimals(s,r.voucherInfo.underlyingDecimals-(null===(o=r.voucherTokenSchema)||void 0===o?void 0:o.underlyingToken.decimals)),n.isExpire=!0):s=v.price+"",v.price&&(n.settlePrice=Number(s),ne.a.comp(s,l)?n.value=new be.a(i).dividedBy(l).toString():ne.a.comp(u,s)?n.value=new be.a(i).dividedBy(u).toString():n.value=new be.a(i).dividedBy(s).toString(),ne.a.comp(s,l)?(n.range.label="Out of range",n.range.value="up"):ne.a.comp(u,s)?(n.range.label="Out of range",n.range.value="down"):(n.range.label="In range",n.range.value="normal"),n.value=ne.a.tokenMulDecimals(n.value,null===(c=r.voucherTokenSchema)||void 0===c?void 0:c.underlyingToken.decimals))}return n}));return Object(c.watch)((function(){return o.getChangeFlag}),(function(e){e&&(n.value=!1,r.voucherTokenSchema=ve.a.solvUtils.getTokenSchemaByVoucherSymbol(t.voucherSymbol+""),b())}),{immediate:!0}),Object(c.watch)((function(){return o.getLastTxReceipt}),(function(e){e&&b()}),{deep:!0}),{t:e,loadFinish:n,voucherData:r,originalVoucherImgUrl:i,visibleDialog:l,commonData:a,showAction:d,tokenValueInfo:v,claimableInfo:m,disabledClaim:function(e){return ne.a.comp(new Date(1e3*e).getTime()/1e3,ne.a.getCurrentTime())},solvMisc:u,handleAction:function(){},bindClaim:function(){l.claim=!0},handleMergeDialog:function(){l.merge=!0},handleSplitDialog:function(){l.split=!0}}}});o("f077");fe.render=$,fe.__scopeId="data-v-117e9bd6";t.default=fe},ea1b:function(e,t,o){},f077:function(e,t,o){"use strict";o("ea1b")}}]);