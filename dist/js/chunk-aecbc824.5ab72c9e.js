(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-aecbc824"],{"0162":function(e,t,a){"use strict";a("6403")},"019f":function(e,t,a){},"1e1d":function(e,t,a){"use strict";a("019f")},4059:function(e,t,a){},"537b":function(e,t,a){"use strict";a("4059")},6403:function(e,t,a){},"77c8":function(e,t,a){"use strict";a.r(t);a("a9e3"),a("99af");var i=a("7a23"),n=Object(i.withScopeId)("data-v-5f2b6fcd");Object(i.pushScopeId)("data-v-5f2b6fcd");var c={class:"flex-row detail-group"},r={class:"flex-row"},o={class:"ivo-text"},l={class:"mod flex-row justify-center items-center"},s={class:"flex-row equal-division"},u={class:"flex-col order-information"},d={class:"flex-col equal-division-item"},b={class:"vesting-group"},m={class:"flex-row"},p={class:"flex-col vesting-right-group"},f={class:"detail-title"},g={class:"order-information-content"},O={class:"info-module"},v={class:"info-item"},j={class:"info-item-label"},h={class:"info-item-value"},y={class:"order-info-remaining-value-text remaining-text"},B={class:"remaining-symbol"},N={class:"info-item info-item__right"},w={class:"info-item-label"},x={class:"info-item-value"},k={class:"info-item info-item-flex"},V={class:"info-item-label"},T={class:"info-item-value"},D={key:1,class:"order-info-remaining-value-text"},S={class:"info-item info-item-flex"},P={class:"info-item-label"},A={class:"info-item-value"},C={key:1,class:"order-info-remaining-value-text"},M={class:"info-item info-item-flex"},U={class:"info-item-label"},R={class:"info-item-value"},F={key:1,class:"order-info-remaining-value-text font-variant-numeric"},L={class:"info-item info-item-flex"},$={class:"info-item-label"},I={class:"info-item-value"},q={key:1,class:"order-info-remaining-value-text font-variant-numeric"},_={class:"flex-col equal-division-item_1 buy-module"},E={class:"flex-col section_5"},Y=Object(i.createVNode)("div",{class:"flex-col items-center order-info-price-tag",style:{opacity:"0"}},[Object(i.createVNode)("span",null,"Price")],-1),W={class:"justify-center order-info-price-panel"},H={class:"rate-of-return-with-range"},z={class:"rate-label"},J={class:"rate-desc"},X={class:"rate-of-return"},G={class:"flex-col order-purchase-form"},K={class:"purchase-item-title-2"},Q={class:"flex-col items-end purchase-item-input"},Z={class:"paste"},ee={key:0,class:"purchase-limit info-item"},te={key:1,class:"purchase-limit info-item"},ae={class:"info-item-label"},ie={class:"wallet-balance info-item"},ne={class:"info-item-label"},ce={class:"flex-col button-panel"},re={class:"face-value-content info-item info-item-flex"},oe={class:"info-item-label"},le={class:"info-item-value"},se={key:0,class:"single-button-container"},ue={key:0,class:"muti-button-container"},de={class:"button-item pd-right-10"},be={class:"button-item pd-left-10"},me={key:1,class:"single-button-container"},pe={class:"flex-col order-information"},fe={class:"flex-col equal-division-item"},ge={class:"vesting-group"},Oe={class:"flex-row"},ve={class:"flex-col vesting-right-group"},je={class:"detail-title"},he={class:"order-information-content"},ye={class:"info-item info-item-flex"},Be={class:"info-item-label"},Ne={class:"info-item-value"},we={key:1,class:"order-info-remaining-value-text"},xe={class:"info-item info-item-flex"},ke={class:"info-item-label"},Ve={class:"info-item-value"},Te={key:1,class:"order-info-remaining-value-text"},De={class:"info-item info-item-flex"},Se={class:"info-item-label"},Pe={class:"info-item-value"},Ae={key:1,class:"order-info-remaining-value-text font-variant-numeric"},Ce={class:"info-item"},Me=Object(i.createVNode)("div",{class:"divider"},null,-1),Ue={class:"tip"},Re=Object(i.createVNode)("br",null,null,-1);Object(i.popScopeId)();var Fe=n((function(e,t,a,Fe,Le,$e){var Ie=Object(i.resolveComponent)("DaSkeleton"),qe=Object(i.resolveComponent)("OutputHref"),_e=Object(i.resolveComponent)("DaProgress"),Ee=Object(i.resolveComponent)("DaInput"),Ye=Object(i.resolveComponent)("TextTip"),We=Object(i.resolveComponent)("DaButton"),He=Object(i.resolveComponent)("PageWrapper"),ze=Object(i.resolveComponent)("Loading"),Je=Object(i.resolveComponent)("TxFinish");return Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,null,[Object(i.createVNode)(He,{showBreadcrumbs:!0},{default:n((function(){return[Object(i.createVNode)("div",c,[Object(i.createVNode)("div",r,[Object(i.createVNode)("div",o,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(480),height:e.$filters.pxToRem(32)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[Object(i.createVNode)("img",{src:e.offering.data.voucher.underlyingToken.logoURI,class:"detail-image"},null,8,["src"]),Object(i.createTextVNode)(" "+Object(i.toDisplayString)(e.t("Order"))+" NO."+Object(i.toDisplayString)(e.offering.offeringId)+" - "+Object(i.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol)+" Convertible IVO ",1)],64))])]),Object(i.createVNode)("div",l,[e.offering.data&&e.offering.data.voucher?(Object(i.openBlock)(),Object(i.createBlock)(qe,{key:0,visibleEtherscan:!1,visibleOpensea:!1,underlyingSymbol:e.offering.data.voucher.underlyingToken.symbol,underlyingAddress:e.offering.data.voucher.underlyingToken.address},null,8,["underlyingSymbol","underlyingAddress"])):Object(i.createCommentVNode)("",!0)]),Object(i.createVNode)("div",s,[Object(i.createVNode)("div",u,[Object(i.createVNode)("div",d,[Object(i.createVNode)("div",null,[Object(i.createVNode)("div",b,[Object(i.createVNode)("div",m,[Object(i.createVNode)("div",p,[Object(i.createVNode)("span",f,Object(i.toDisplayString)(e.t("Order Information")),1)])])]),Object(i.createVNode)("div",g,[Object(i.createVNode)("div",O,[Object(i.createVNode)("div",v,[Object(i.createVNode)("div",j,Object(i.toDisplayString)(e.t("Remaining")),1),Object(i.createVNode)("div",h,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[Object(i.createVNode)("span",y,Object(i.toDisplayString)(e.parseUnitsValue(e.offering.data.units)),1),Object(i.createVNode)("span",B,Object(i.toDisplayString)(" ".concat(e.offering.data.currency.symbol)),1)],64))])]),Object(i.createVNode)("div",N,[Object(i.createVNode)("div",w,Object(i.toDisplayString)(e.t("Progress")),1),Object(i.createVNode)("div",x,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)(_e,{key:1,progress:Number(e.availablePercentText)/100,width:e.$filters.pxToRem(64),height:e.$filters.pxToRem(16),class:"progress-entry"},null,8,["progress","width","height"]))])])]),Object(i.createVNode)("div",k,[Object(i.createVNode)("div",V,Object(i.toDisplayString)(e.t("Total")),1),Object(i.createVNode)("div",T,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",D,Object(i.toDisplayString)(e.parseUnitsValue(e.offering.data.totalUnits))+" "+Object(i.toDisplayString)(e.offering.data.currency.symbol),1))])]),Object(i.createVNode)("div",S,[Object(i.createVNode)("div",P,Object(i.toDisplayString)(e.t("Participating Condition")),1),Object(i.createVNode)("div",A,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",C,Object(i.toDisplayString)(e.offering.data.useAllowList?" ".concat(e.t("Project Whitelist")):" ".concat(e.t("None"))),1))])]),Object(i.createVNode)("div",M,[Object(i.createVNode)("div",U,Object(i.toDisplayString)(e.t("Sale Start Time (UTC)")),1),Object(i.createVNode)("div",R,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",F,Object(i.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.startTime,"YYYY-MM-DD HH:mm")," ")),1))])]),Object(i.createVNode)("div",L,[Object(i.createVNode)("div",$,Object(i.toDisplayString)(e.t("Sale End Time (UTC)")),1),Object(i.createVNode)("div",I,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",q,Object(i.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.endTime,"YYYY-MM-DD HH:mm")," ")),1))])])])])])]),Object(i.createVNode)("div",_,[Object(i.createVNode)("div",E,[Y,Object(i.createVNode)("div",W,[e.offering.mintParams?(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:0},[Object(i.createVNode)("div",H,[Object(i.createVNode)("p",z,Object(i.toDisplayString)(e.t("Rate of return within price range")),1),Object(i.createVNode)("p",J," ( "+Object(i.toDisplayString)("".concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.lowestPrice,8,2)," ").concat(e.offering.data.currency.symbol," - ").concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.highestPrice,8,2)," ").concat(e.offering.data.currency.symbol))+" ) ",1)]),Object(i.createVNode)("div",X,Object(i.toDisplayString)(e.parseRateOfReturn?e.parseRateOfReturn+"%":""),1)],64)):(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:1,visible:!0,height:e.$filters.pxToRem(32)},null,8,["height"]))])]),Object(i.createVNode)("div",G,[Object(i.createVNode)("span",K,Object(i.toDisplayString)(e.t("Purchase By Value")),1),Object(i.createVNode)("div",Q,[Object(i.createVNode)(Ee,{modelValue:e.submitForm.payment,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.submitForm.payment=t}),mode:"decimal",decimals:6,border:!0,placeholder:"0.0",disabled:!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.isTimeOutOffering,onInput:e.handlePaymentInput},{suffix:n((function(){return[Object(i.createVNode)("span",{class:"paste txt-active mg-r-point-38-rem btn",onClick:t[1]||(t[1]=function(){return e.handleMaxAvailableAmount&&e.handleMaxAvailableAmount.apply(e,arguments)})},Object(i.toDisplayString)(e.$t("MAX")),1),Object(i.createVNode)("span",Z,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(41),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[Object(i.createTextVNode)(Object(i.toDisplayString)(e.offering.data.currency.symbol),1)],64))])]})),_:1},8,["modelValue","disabled","onInput"])]),e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)("span",ee,[Object(i.createVNode)(Ie,{visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])])):(Object(i.openBlock)(),Object(i.createBlock)("label",te,[Object(i.createVNode)("span",ae,Object(i.toDisplayString)(e.t("".concat(e.calMaxAvailableAmount.title)))+":",1),"Purchase Limit"==e.calMaxAvailableAmount.title?(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:0},[Object(i.createTextVNode)(Object(i.toDisplayString)(e.parseUnitsValue(e.calMaxAvailableAmount.min))+" - "+Object(i.toDisplayString)(e.parseUnitsValue(e.calMaxAvailableAmount.max)),1)],64)):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[Object(i.createTextVNode)(Object(i.toDisplayString)(e.parseUnitsValue(e.calMaxAvailableAmount.value)),1)],64)),Object(i.createTextVNode)(" "+Object(i.toDisplayString)(e.offering.data.currency.symbol),1)])),Object(i.createVNode)("label",ie,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[Object(i.createVNode)("span",ne,Object(i.toDisplayString)(e.t("Wallet Balance"))+":",1),Object(i.createTextVNode)(" "+Object(i.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.account.currencyBalance,e.offering.data.currency.decimals,6)))+" "+Object(i.toDisplayString)(e.offering.data.currency.symbol),1)],64))]),Object(i.createVNode)("div",ce,[Object(i.createVNode)("div",re,[Object(i.createVNode)("div",oe,[Object(i.createVNode)(Ye,null,{content:n((function(){return[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("Estimated claimable after maturity")),1)]})),default:n((function(){return[Object(i.createTextVNode)(" "+Object(i.toDisplayString)(e.t("Face Value")),1)]})),_:1})]),Object(i.createVNode)("div",le,Object(i.toDisplayString)(e.submitForm.amount?e.$filters.parseThousandsValue(e.$filters.hideMantissa(e.submitForm.amount)):"0")+" "+Object(i.toDisplayString)(e.offering.data?e.offering.data.currency.symbol:""),1)]),e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)("div",se,[Object(i.createVNode)(We,{size:"medium",full:!0,plain:"",loading:e.isConfirming,disabled:!e.allowConfirm,onClick:e.handleConfirm},{default:n((function(){return[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])):(Object(i.openBlock)(),Object(i.createBlock)(i.Fragment,{key:1},[e.needApprove?(Object(i.openBlock)(),Object(i.createBlock)("div",ue,[Object(i.createVNode)("div",de,[Object(i.createVNode)(We,{size:"medium",full:!0,plain:"",onClick:e.handleApprove,disabled:e.isApproving,loading:e.isApproving},{default:n((function(){return[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("Approve")),1)]})),_:1},8,["onClick","disabled","loading"])]),Object(i.createVNode)("div",be,[Object(i.createVNode)(We,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,onClick:e.handleConfirm},{default:n((function(){return[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])])):(Object(i.openBlock)(),Object(i.createBlock)("div",me,[Object(i.createVNode)(We,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,plain:"",onClick:e.handleConfirm},{default:n((function(){return[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("".concat(e.confirmButtonText))),1)]})),_:1},8,["loading","disabled","onClick"])]))],64))])])]),Object(i.createVNode)("div",pe,[Object(i.createVNode)("div",fe,[Object(i.createVNode)("div",null,[Object(i.createVNode)("div",ge,[Object(i.createVNode)("div",Oe,[Object(i.createVNode)("div",ve,[Object(i.createVNode)("span",je,Object(i.toDisplayString)(e.t("PrimaryMarket.Detail['Voucher Information']")),1)])])]),Object(i.createVNode)("div",he,[Object(i.createVNode)("div",ye,[Object(i.createVNode)("div",Be,Object(i.toDisplayString)(e.t("Risk Tolerance")),1),Object(i.createVNode)("div",Ne,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",we,Object(i.toDisplayString)(e.rate),1))])]),Object(i.createVNode)("div",xe,[Object(i.createVNode)("div",ke,Object(i.toDisplayString)(e.t("Price Range")),1),Object(i.createVNode)("div",Ve,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",Te,Object(i.toDisplayString)("".concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.lowestPrice,8,2)," ").concat(e.offering.data.currency.symbol," - ").concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.highestPrice,8,2)," ").concat(e.offering.data.currency.symbol)),1))])]),Object(i.createVNode)("div",De,[Object(i.createVNode)("div",Se,Object(i.toDisplayString)(e.t("Maturity Date (UTC)")),1),Object(i.createVNode)("div",Pe,[e.isLoading?(Object(i.openBlock)(),Object(i.createBlock)(Ie,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(14)},null,8,["width","height"])):(Object(i.openBlock)(),Object(i.createBlock)("span",Ae,Object(i.toDisplayString)(e.$filters.dayjsUTCFormat(1e3*e.offering.mintParams.maturity,"YYYY-MM-DD")),1))])]),Object(i.createVNode)("div",Ce,[Me,Object(i.createVNode)("span",Ue,[Object(i.createTextVNode)(Object(i.toDisplayString)(e.t("If settlement price is within the set price range, the holder can redeem the face value of the convertible bond in dollars or the equivalent value in tokens."))+" ",1),Re,Object(i.createTextVNode)(" "+Object(i.toDisplayString)(e.t("If settlement price is outside the set price range, the holder can only redeem the designated fixed number of tokens.")),1)])])])])])])])])]})),_:1}),e.commonData.visibleLoading?(Object(i.openBlock)(),Object(i.createBlock)(ze,{key:0,visible:e.commonData.visibleLoading,onClose:t[3]||(t[3]=function(t){return e.commonData.visibleLoading=!1}),onTxDone:e.handleTxDone,needDone:!0},null,8,["visible","onTxDone"])):Object(i.createCommentVNode)("",!0),e.commonData.visibleTxFinish?(Object(i.openBlock)(),Object(i.createBlock)(Je,{key:1,visible:e.commonData.visibleTxFinish,hash:e.commonData.txHash,title:"Purchase Completed",onClose:t[4]||(t[4]=function(t){return e.commonData.visibleTxFinish=!1}),pathName:"MyConvertibleVoucher"},null,8,["visible","hash"])):Object(i.createCommentVNode)("",!0)],64)})),Le=a("e205"),$e=a("4be1"),Ie=Object(i.withScopeId)("data-v-26ea2373");Object(i.pushScopeId)("data-v-26ea2373");var qe={class:"progress-line"},_e={class:"progress-content"};Object(i.popScopeId)();var Ee=Ie((function(e,t,a,n,c,r){return Object(i.openBlock)(),Object(i.createBlock)("div",{class:["da-progress-bar",{"da-single-type":"single"===e.type}],style:e.mainStyle},[Object(i.createVNode)("div",qe,[Object(i.createVNode)("div",{class:"progress-line__body",style:{width:e.progressVal+"%"}},null,4)]),Object(i.createVNode)("div",_e,Object(i.toDisplayString)(100*e.progress)+"%",1)],6)})),Ye=Object(i.defineComponent)({props:{type:{type:String,default:""},progress:{type:Number,default:1},size:{type:String,default:"120px"},title:{type:String,default:""},roundWidth:{type:String,default:"12"},lineWidth:{type:String,default:"12"},width:{type:String,default:""},height:{type:String,default:""}},setup:function(e){var t=Object(i.toRefs)(e),a=t.progress,n=t.type,c=t.size,r=t.width,o=t.height;return{progressVal:Object(i.computed)((function(){return a.value>=1?100:a.value<=0?0:100*a.value})),mainStyle:Object(i.computed)((function(){var e={width:r.value,height:o.value};return"round"===n.value&&(e.width=c.value,e.height=c.value),e}))}}});a("1e1d");Ye.render=Ee,Ye.__scopeId="data-v-26ea2373";var We=Ye,He=a("9998"),ze=a("e672"),Je=a("52f9"),Xe=a("9ddb"),Ge=a("a6f3"),Ke=a("f41c"),Qe=(a("b680"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("4de4"),a("9ab4")),Ze=a("2739"),et=a("9707"),tt=a("f94c"),at=a("1d85"),it=a("1c5c"),nt=a("88c6"),ct=a("901e"),rt=a("6573"),ot=a.n(rt),lt=a("47e2");var st=a("6c02"),ut=Object(i.defineComponent)({components:{PageWrapper:Ke.a,DaSkeleton:He.a,DaInput:$e.a,DaButton:Le.a,OutputHref:Ge.a,Loading:Xe.a,TxFinish:Je.a,DaProgress:We,TextTip:ze.a},setup:function(){var e=function(e){var t=Object(it.a)().getters,a=Object(lt.b)().t,n=Ze.a,c=Object(i.reactive)({visibleLoading:!1,visibleTxFinish:!1,txHash:""}),r=Object(i.reactive)({data:void 0,mintParams:void 0,price:void 0,spotPrice:0,isBuyerAllowed:!0,purchasedUnits:"0",offeringId:e}),o=Object(i.reactive)({currencyBalance:0,currencyAllowance:0}),l=Object(i.reactive)({amount:"",payment:""}),s=Object(i.ref)(!0),u=Object(i.ref)(!1),d=Object(i.ref)(!1),b=Object(i.computed)((function(){return void 0===r.data?0:new ct.BigNumber(""+r.data.units).dividedBy(new ct.BigNumber(""+r.data.totalUnits)).toFixed(2,3)})),m=Object(i.computed)((function(){return void 0===r.data?0:new ct.BigNumber("1").minus(new ct.BigNumber(""+r.data.units).dividedBy(new ct.BigNumber(""+r.data.totalUnits))).multipliedBy(new ct.BigNumber("100")).toFixed(2,3)})),p=Object(i.computed)((function(){return!!s.value||(!r.data.useAllowList||r.isBuyerAllowed)})),f=Object(i.computed)((function(){return!s.value&&(!et.a.equal("0",r.data.max)&&et.a.compOrEqual(r.purchasedUnits,r.data.max))})),g=Object(i.computed)((function(){if(s.value)return!1;if(et.a.equal("0",r.data.max))return!1;if(""==l.amount)return et.a.comp(r.purchasedUnits,r.data.max);var e=new ct.BigNumber(""+l.amount).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.unitDecimals))),t=new ct.BigNumber(""+r.purchasedUnits).plus(e);return et.a.comp(t.toString(10),r.data.max)})),O=Object(i.computed)((function(){if(s.value)return!0;var e=et.a.getCurrentTime();return r.data.startTime-e>=0})),v=Object(i.computed)((function(){return!s.value&&et.a.getCurrentTime()-r.data.endTime>=0})),j=Object(i.computed)((function(){if(s.value)return!1;if(""==l.payment)return!1;var e=new ct.BigNumber(""+l.payment).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals)));return!e.isNaN()&&et.a.comp(e.toString(10),o.currencyBalance)})),h=Object(i.computed)((function(){if(s.value)return!1;if(!p.value)return!1;if(!N())return!1;var e=new ct.BigNumber(""+l.payment).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals)));return e.isNaN()?!et.a.compOrEqual(o.currencyAllowance,0):!et.a.compOrEqual(o.currencyAllowance,e.toString(10))})),y=Object(i.computed)((function(){return!s.value&&(et.a.comp(r.data.units,"0")&&et.a.equal(r.data.max,"0")&&et.a.compOrEqual(r.data.min,r.data.units))})),B=Object(i.computed)((function(){if(!r.data)return"";var e=new ct.BigNumber(et.a.tokenDivDecimals(r.price,r.data.currency.decimals));return new ct.BigNumber("1").minus(e).dividedBy(e).multipliedBy(new ct.BigNumber("100")).toFixed(2,3)}));function N(){var e=new ct.BigNumber(""+l.amount).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.unitDecimals))),t=new ct.BigNumber(""+l.payment).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals)));return!e.isNaN()&&!t.isNaN()&&(!et.a.compOrEqual("0",e.toString(10))&&!et.a.compOrEqual("0",t.toString(10))&&(et.a.comp(r.data.min,e.toString(10))?!!et.a.comp(r.data.min,r.data.units)&&(!et.a.comp(e.toString(10),r.data.units)&&!et.a.comp(t.toString(10),o.currencyBalance)):et.a.comp(r.data.max,"0")?!et.a.comp(e.toString(10),r.data.max):!et.a.comp(e.toString(10),r.data.units)&&!et.a.comp(t.toString(10),o.currencyBalance)))}var w=Object(i.computed)((function(){return!s.value&&(!d.value&&(!h.value&&N()))})),x=Object(i.computed)((function(){return O.value?"Upcoming":p.value?f.value||g.value?"Purchase limit reached":v.value?"Closed":j.value?"Insufficient Wallet Balance":"Buy":"Your address is not in the whitelist"})),k=Object(i.computed)((function(){return s.value?"--":Object(at.b)().calRateByPrice(r.spotPrice,r.mintParams.lowestPrice)+"%"}));function V(e){return Object(Qe.b)(this,void 0,Promise,(function(){return Object(Qe.e)(this,(function(a){return[2,new Promise((function(a,i){Promise.all([Object(at.b)().currencyBalanceOf(e,t.getAccount),Object(at.b)().currencyAllowance(e,t.getAccount)]).then((function(e){a(e)})).catch((function(e){i(e)}))}))]}))}))}function T(a){return void 0===a&&(a=!0),Object(Qe.b)(this,void 0,Promise,(function(){var i=this;return Object(Qe.e)(this,(function(n){return s.value=a,Promise.all([Object(at.b)().offerings(e),Object(at.b)().mintParameters(e),Object(at.b)().getPrice(e),Object(at.b)().purchasedUnits(e,t.getAccount)]).then((function(e){return Object(Qe.b)(i,void 0,void 0,(function(){var a,i,n;return Object(Qe.e)(this,(function(c){switch(c.label){case 0:return r.data=e[0],r.mintParams=e[1],r.price=e[2],r.purchasedUnits=e[3],[4,V(r.data.currency.address)];case 1:return a=c.sent(),o.currencyBalance=a[0],o.currencyAllowance=a[1],i=r,[4,Object(at.b)().isBuyerAllowed(r.data.voucher.address,t.getAccount)];case 2:return i.isBuyerAllowed=c.sent(),(n=t.getTokenPrices.filter((function(e){return e.currencySymbol.toLowerCase()==r.data.voucher.underlyingToken.symbol.toLowerCase()}))).length>0&&(r.spotPrice=n[0].price),s.value=!1,[2]}}))}))})).catch((function(e){console.log("error",e)})),[2]}))}))}var D=Object(i.computed)((function(){if(s.value)return{title:"Max Available",value:"0"};if(et.a.equal("0",r.data.max)&&et.a.equal("0",r.data.min))return{title:"Max Available",value:r.data.units};if(et.a.comp(r.data.max,"0")&&et.a.equal(r.data.min,"0")){var e=new ct.BigNumber(""+r.data.max).minus(new ct.BigNumber(""+r.purchasedUnits)).toFixed(0,3);return{title:"Max Available",value:et.a.comp(r.data.units,e)?e:r.data.units}}if(et.a.equal(r.data.max,"0")&&et.a.comp(r.data.min,"0"))return et.a.comp(r.data.units,r.data.min)?{title:"Purchase Limit",min:r.data.min,max:r.data.units}:{title:"Max Available",value:r.data.units};e=new ct.BigNumber(""+r.data.max).minus(new ct.BigNumber(""+r.purchasedUnits)).toFixed(0,3);return et.a.comp(r.data.units,r.data.min)?et.a.comp(r.data.min,e)?{title:"Max Available",value:"0"}:et.a.comp(r.data.units,e)?{title:"Purchase Limit",min:r.data.min,max:e}:{title:"Purchase Limit",min:r.data.min,max:r.data.units}:et.a.comp(r.data.units,e)?{title:"Max Available",value:e}:{title:"Max Available",value:r.data.units}}));return Object(i.watch)((function(){return t.getChangeFlag}),(function(e){e&&T()})),Object(i.watch)((function(){return t.getTokenPrices}),(function(e){if(void 0!==r.data){var t=e.filter((function(e){return e.currencySymbol.toLowerCase()==r.data.voucher.underlyingToken.symbol.toLowerCase()}));t.length>0&&(r.spotPrice=t[0].price)}})),Object(i.watch)((function(){return t.getLastTxReceipt}),(function(e){e&&(l.amount="",l.payment="",T(!1))})),Object(i.onMounted)((function(){t.getChangeFlag&&T()})),{offering:r,isLoading:s,t:a,availablePercent:b,availablePercentText:m,useVestingPeriodUnit:function(){return 2==r.mintParams.claimType?"":r.mintParams.terms[0]/86400>1?" Days":" Day"},submitForm:l,account:o,handlePaymentInput:function(t){return Object(Qe.b)(this,void 0,void 0,(function(){var a;return Object(Qe.e)(this,(function(i){switch(i.label){case 0:return""==t?(l.amount="",[2]):1!=r.data.priceType?[3,2]:(a=r,[4,Object(at.b)().getPrice(e)]);case 1:a.price=i.sent(),i.label=2;case 2:return l.amount=new ct.BigNumber(""+t).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals))).dividedBy(new ct.BigNumber(""+r.price)).toFixed(8,3),[2]}}))}))},handleAmountInput:function(t){return Object(Qe.b)(this,void 0,void 0,(function(){var a;return Object(Qe.e)(this,(function(i){switch(i.label){case 0:return""==t?(l.payment="",[2]):1!=r.data.priceType?[3,2]:(a=r,[4,Object(at.b)().getPrice(e)]);case 1:a.price=i.sent(),i.label=2;case 2:return l.payment=new ct.BigNumber(""+t).multipliedBy(new ct.BigNumber(""+r.price)).dividedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3),[2]}}))}))},needApprove:h,isApproving:u,isConfirming:d,handleApprove:function(){return Object(Qe.b)(this,void 0,Promise,(function(){var e,t;return Object(Qe.e)(this,(function(i){switch(i.label){case 0:if(u.value)return[2];i.label=1;case 1:return i.trys.push([1,5,,6]),u.value=!0,[4,Object(at.b)().currencyApprove(r.data.currency.address)];case 2:return[4,i.sent().wait()];case 3:return i.sent(),[4,V(r.data.currency.address)];case 4:return e=i.sent(),o.currencyBalance=e[0],o.currencyAllowance=e[1],u.value=!1,[3,6];case 5:return t=i.sent(),ot.a.error(a(Object(tt.a)().parseErrorInfo(t))),u.value=!1,[3,6];case 6:return[2]}}))}))},allowConfirm:w,handleConfirm:function(){return Object(Qe.b)(this,void 0,Promise,(function(){var t,i,n,o;return Object(Qe.e)(this,(function(s){switch(s.label){case 0:if(d.value)return[2];s.label=1;case 1:return s.trys.push([1,6,,7]),d.value=!0,t=new ct.BigNumber(""+l.amount).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.unitDecimals))),i=void 0,"SYSTEM"!=r.data.currency.type?[3,3]:(n=new ct.BigNumber(""+l.payment).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals))),[4,Object(at.b)().buy(e,t.toString(10),n.toString(10))]);case 2:return i=s.sent(),[3,5];case 3:return[4,Object(at.b)().buy(e,t.toString(10))];case 4:i=s.sent(),s.label=5;case 5:return Object(nt.b)(i),d.value=!1,c.visibleLoading=!0,[3,7];case 6:return o=s.sent(),ot.a.error(a(Object(tt.a)().parseErrorInfo(o))),d.value=!1,[3,7];case 7:return[2]}}))}))},handleMaxAvailableAmount:function(){return Object(Qe.b)(this,void 0,void 0,(function(){var a,i,n,c,u;return Object(Qe.e)(this,(function(d){switch(d.label){case 0:return s.value||(!p.value||O.value||f.value||v.value)?[2]:1!=r.data.priceType?[3,2]:(a=r,[4,Object(at.b)().getPrice(e)]);case 1:a.price=d.sent(),d.label=2;case 2:return et.a.comp("0",o.currencyBalance)?(l.amount=0,l.payment=0,[2]):(i=new ct.BigNumber(""+o.currencyBalance).dividedBy(new ct.BigNumber(""+r.price)).multipliedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.unitDecimals))).toFixed(0,3),et.a.equal("0",r.data.max)?(n=r.data.units,[3,5]):[3,3]);case 3:return[4,Object(at.b)().purchasedUnits(e,t.getAccount)];case 4:c=d.sent(),u=new ct.BigNumber(""+r.data.max).minus(new ct.BigNumber(""+c)).toFixed(0,3),n=et.a.compOrEqual(u,r.data.units)?r.data.units:u,d.label=5;case 5:return et.a.compOrEqual(i,n)?(l.amount=et.a.tokenDivDecimals(n,r.data.unitDecimals,8),l.payment=new ct.BigNumber(""+n).dividedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.unitDecimals))).multipliedBy(new ct.BigNumber(""+r.price)).dividedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3)):(l.payment=new ct.BigNumber(""+o.currencyBalance).dividedBy(new ct.BigNumber("10").pow(new ct.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3),l.amount=new ct.BigNumber(""+o.currencyBalance).dividedBy(new ct.BigNumber(""+r.price)).toFixed(8,3)),l.amount=et.a.hideMantissa(l.amount),l.payment=et.a.hideMantissa(l.payment),[2]}}))}))},allowPurchase:p,isUpcomingOffering:O,purchaseMaxUnits:f,calPurchaseMaxUnits:g,isTimeOutOffering:v,isInsufficientWalletBalance:j,confirmButtonText:x,commonData:c,handleTxDone:function(e,t){c.txHash=t,c.visibleTxFinish=!0},isShowNoLimit:y,solvMisc:n,parseUnlockDate:function(e,t){return et.a.dateFormat(1e3*(e+t))},rate:k,calMaxAvailableAmount:D,parseUnitsValue:function(e){var t=et.a.tokenDivDecimals(e,r.data.voucher.underlyingToken.decimals+8),a=et.a.tokenDivDecimals(r.price,r.data.currency.decimals);return et.a.parseThousandsValue(et.a.hideMantissa(new ct.BigNumber(t).multipliedBy(new ct.BigNumber(a)).toFixed(r.data.currency.decimals,3)))},parseRateOfReturn:B}}(Object(st.c)().params.offeringId);return{offering:e.offering,isLoading:e.isLoading,t:e.t,availablePercent:e.availablePercent,availablePercentText:e.availablePercentText,useVestingPeriodUnit:e.useVestingPeriodUnit,submitForm:e.submitForm,account:e.account,handlePaymentInput:e.handlePaymentInput,handleAmountInput:e.handleAmountInput,needApprove:e.needApprove,isApproving:e.isApproving,isConfirming:e.isConfirming,handleApprove:e.handleApprove,allowConfirm:e.allowConfirm,handleConfirm:e.handleConfirm,handleMaxAvailableAmount:e.handleMaxAvailableAmount,allowPurchase:e.allowPurchase,isUpcomingOffering:e.isUpcomingOffering,purchaseMaxUnits:e.purchaseMaxUnits,calPurchaseMaxUnits:e.calPurchaseMaxUnits,isTimeOutOffering:e.isTimeOutOffering,isInsufficientWalletBalance:e.isInsufficientWalletBalance,confirmButtonText:e.confirmButtonText,commonData:e.commonData,handleTxDone:e.handleTxDone,isShowNoLimit:e.isShowNoLimit,solvMisc:e.solvMisc,parseUnlockDate:e.parseUnlockDate,rate:e.rate,calMaxAvailableAmount:e.calMaxAvailableAmount,parseUnitsValue:e.parseUnitsValue,parseRateOfReturn:e.parseRateOfReturn}}});a("0162"),a("537b");ut.render=Fe,ut.__scopeId="data-v-5f2b6fcd";t.default=ut}}]);