(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d0538b8c"],{"32f5":function(e,t,a){"use strict";a("3dbe")},"3dbe":function(e,t,a){},"77c8":function(e,t,a){"use strict";a.r(t);a("99af");var c=a("7a23"),i=Object(c.withScopeId)("data-v-51d5e423");Object(c.pushScopeId)("data-v-51d5e423");var n=Object(c.createVNode)("div",{class:"flex-col items-center image-wrapper"},null,-1),r={class:"flex-row detail-group"},o={class:"flex-row"},l={class:"ivo-text"},s=Object(c.createTextVNode)(" Convertible IVO "),d={class:"mod flex-row justify-center items-center"},u={class:"flex-row equal-division"},b={class:"flex-col"},m={class:"flex-col equal-division-item"},p={class:"vesting-group"},f={class:"flex-row top-inner"},O={class:"flex-col vesting-right-group"},g={class:"detail-title"},j={class:"order-info-total"},y={class:"flex-col content-inner"},h={class:"order-info-remaining-title"},v={class:"justify-between mt094"},B={class:"order-info-remaining-value"},k={class:"order-info-remaining-value-text"},N={class:"remaining-symbol"},w={class:"flex-row order-info-chart"},x={key:0,class:"chart-con"},V={class:"chart"},D={width:"0.98rem",height:"0.98rem",viewBox:"0 0 120 120"},T=Object(c.createVNode)("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"rgba(176,77,255,.4)","stroke-width":"8"},null,-1),S={class:"chart-content-text"},P={key:0,class:"order-info-pc"},C={key:1,class:"order-info-pc"},F={key:2,class:"order-info-duration"},$={key:3,class:"order-info-duration"},A={class:"flex-col vouchinfo-section"},U={class:"flex-col vouchinfo-section-hd"},L={class:"vouchinfo-section-title"},M={class:"voucherinfo-section-subtitle"},R={class:"order-info-content-text"},I={class:"order-info-content-text m_t_16"},q={class:"order-info-content-text m_t_16"},_=Object(c.createVNode)("div",{class:"divider"},null,-1),Y={class:"tip"},E=Object(c.createVNode)("div",{class:"divider"},null,-1),H={class:"tip"},W={class:"flex-col equal-division-item_1"},z={class:"flex-col section_5"},J={key:1,class:"flex-col items-center order-info-price-tag",style:{opacity:"0"}},X=Object(c.createVNode)("span",null,"Price",-1),G={class:"justify-center order-info-price-panel"},K={class:"flex-row order-info-price-content"},Q=Object(c.createVNode)("span",{class:"order-underlying-unit"},"1",-1),Z={class:"order-underlying-symbol"},ee=Object(c.createTextVNode)(Object(c.toDisplayString)("UNIT")),te=Object(c.createVNode)("span",{class:"order-info-price-eq"},"=",-1),ae={class:"flex-row order-info-price-main"},ce={class:"price-text"},ie={class:"price-symbol"},ne={class:"flex-col order-purchase-form"},re={class:"purchase-item-title"},oe={class:"justify-between purchase-item-input"},le={class:"paste"},se=Object(c.createTextVNode)(Object(c.toDisplayString)("UNIT")),de={key:0,class:"purchase-limit"},ue={key:1,class:"purchase-limit"},be=Object(c.createTextVNode)(" 0.00 "),me=Object(c.createVNode)("span",{class:"flex-col items-center flow or-txt"},"OR",-1),pe={class:"purchase-item-title-2"},fe={class:"flex-col items-end purchase-item-input"},Oe={class:"paste"},ge={class:"wallet-balance"},je={class:"flex-col button-panel"},ye={key:0,class:"single-button-container"},he={key:0,class:"muti-button-container"},ve={class:"button-item pd-right-10"},Be={class:"button-item pd-left-10"},ke={key:1,class:"single-button-container"};Object(c.popScopeId)();var Ne=i((function(e,t,a,Ne,we,xe){var Ve=Object(c.resolveComponent)("DaSkeleton"),De=Object(c.resolveComponent)("OutputHref"),Te=Object(c.resolveComponent)("DaInput"),Se=Object(c.resolveComponent)("DaButton"),Pe=Object(c.resolveComponent)("PageWrapper"),Ce=Object(c.resolveComponent)("Loading"),Fe=Object(c.resolveComponent)("TxFinish");return Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,[n,Object(c.createVNode)(Pe,{showBreadcrumbs:!0},{default:i((function(){return[Object(c.createVNode)("div",r,[Object(c.createVNode)("p",o,[Object(c.createVNode)("span",l,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(320),height:e.$filters.pxToRem(56)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[s],64))])]),Object(c.createVNode)("div",d,[e.offering.data&&e.offering.data.voucher?(Object(c.openBlock)(),Object(c.createBlock)(De,{key:0,visibleEtherscan:!1,visibleOpensea:!1,underlyingSymbol:e.offering.data.voucher.underlyingToken.symbol,underlyingAddress:e.offering.data.voucher.underlyingToken.address},null,8,["underlyingSymbol","underlyingAddress"])):Object(c.createCommentVNode)("",!0)]),Object(c.createVNode)("div",u,[Object(c.createVNode)("div",b,[Object(c.createVNode)("div",m,[Object(c.createVNode)("div",null,[Object(c.createVNode)("div",p,[Object(c.createVNode)("div",f,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,class:"detail-image"})):(Object(c.openBlock)(),Object(c.createBlock)("img",{key:1,src:e.offering.data.voucher.underlyingToken.logoURI,class:"detail-image"},null,8,["src"])),Object(c.createVNode)("div",O,[Object(c.createVNode)("span",g,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(30)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol)+" IVO "+Object(c.toDisplayString)(e.t("Order"))+" #"+Object(c.toDisplayString)(e.offering.offeringId),1)],64))]),Object(c.createVNode)("span",j,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(20)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Total"))+": "+Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.totalUnits,e.offering.data.unitDecimals,2)))+" "+Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))])])])]),Object(c.createVNode)("div",y,[Object(c.createVNode)("span",h,Object(c.toDisplayString)(e.t("Remaining")),1),Object(c.createVNode)("div",v,[Object(c.createVNode)("div",B,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(25)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createVNode)("span",k,Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.units,e.offering.data.unitDecimals,2))),1),Object(c.createVNode)("span",N,Object(c.toDisplayString)(" ".concat(e.offering.data.currency.symbol)),1)],64))]),Object(c.createVNode)("div",w,[e.isLoading?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createBlock)("div",x,[Object(c.createVNode)("div",V,[(Object(c.openBlock)(),Object(c.createBlock)("svg",D,[T,Object(c.createVNode)("circle",{class:"percent",cx:"60",cy:"60",r:"50",fill:"none",stroke:"#B04DFF","stroke-width":"8",pathLength:"100",style:"stroke-dashoffset:".concat(100*e.availablePercent)},null,4)])),Object(c.createVNode)("span",S,Object(c.toDisplayString)(e.availablePercentText)+"%",1)])]))])]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",P,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Participating Condition']"))+": ",1),Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(80),height:e.$filters.pxToRem(16)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",C,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Participating Condition']"))+": "+Object(c.toDisplayString)(e.offering.data.useAllowList?" ".concat(e.t("Project Whitelist")):" ".concat(e.t("None"))),1)),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",F,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Duration']")+" (UTC)")+": ",1),Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(16)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",$,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Duration']")+" (UTC)")+":"+Object(c.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.startTime,"YYYY-MM-DD HH:mm")," "))+"to"+Object(c.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.endTime,"YYYY-MM-DD HH:mm")," ")),1))])])]),Object(c.createVNode)("div",A,[Object(c.createVNode)("div",U,[Object(c.createVNode)("span",L,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Voucher Information']")),1),Object(c.createVNode)("span",M,Object(c.toDisplayString)(e.t("Convertible Voucher")),1)]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,Object(c.renderList)(2,(function(t,a){return Object(c.createVNode)("span",{class:"order-info-content-text",key:a},[Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(400),height:e.$filters.pxToRem(20)},null,8,["width","height"])])})),64)),E,Object(c.createVNode)("span",H,[Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(450),height:e.$filters.pxToRem(20)},null,8,["width","height"])])],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createVNode)("span",R,Object(c.toDisplayString)(e.t("Rate"))+": "+Object(c.toDisplayString)(e.rate),1),Object(c.createVNode)("span",I,Object(c.toDisplayString)(e.t("Price Range"))+": "+Object(c.toDisplayString)("".concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.lowestPrice,8,2)," ").concat(e.offering.data.currency.symbol," - ").concat(e.solvMisc.formatOrderPrice(e.offering.mintParams.highestPrice,8,2)," ").concat(e.offering.data.currency.symbol)),1),Object(c.createVNode)("span",q,Object(c.toDisplayString)(e.t("Maturity Date (UTC)"))+": "+Object(c.toDisplayString)(e.$filters.dayjsUTCFormat(1e3*e.offering.mintParams.maturity,"YYYY-MM-DD")),1),_,Object(c.createVNode)("span",Y,Object(c.toDisplayString)(e.t("Date and time are all UTC. Vouchers from IVO will be converted to vesting vouchers at public sale and tokens will start to be unlocked then.")),1)],64))])]),Object(c.createVNode)("div",W,[Object(c.createVNode)("div",z,[e.offering.data?(Object(c.openBlock)(),Object(c.createBlock)("div",{key:0,class:["flex-col items-center order-info-price-tag",{"order-info-price-tag--variable":1==e.offering.data.priceType}]},[Object(c.createVNode)("span",null,Object(c.toDisplayString)(0==e.offering.data.priceType?e.t("Fixed price"):e.t("Variable price")),1)],2)):(Object(c.openBlock)(),Object(c.createBlock)("div",J,[X])),Object(c.createVNode)("div",G,[Object(c.createVNode)("div",K,[Q,Object(c.createVNode)("span",Z,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(60),height:e.$filters.pxToRem(20)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[ee],64))])]),te,Object(c.createVNode)("div",ae,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(80),height:e.$filters.pxToRem(38)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createVNode)("span",ce,Object(c.toDisplayString)(e.solvMisc.formatOrderPrice(e.offering.price,e.offering.data.currency.decimals,2)),1),Object(c.createVNode)("span",ie,Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))])])]),Object(c.createVNode)("div",ne,[Object(c.createVNode)("span",re,Object(c.toDisplayString)(e.t("Purchase By Amount")),1),Object(c.createVNode)("div",oe,[Object(c.createVNode)(Te,{modelValue:e.submitForm.amount,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.submitForm.amount=t}),mode:"decimal",decimals:6,border:!0,placeholder:"0.0",disabled:!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.isTimeOutOffering,onInput:e.handleAmountInput},{suffix:i((function(){return[Object(c.createVNode)("span",{class:"paste txt-active mg-r-point-38-rem btn",onClick:t[1]||(t[1]=function(){return e.handleMaxAvailableAmount&&e.handleMaxAvailableAmount.apply(e,arguments)})},Object(c.toDisplayString)(e.$t("MAX")),1),Object(c.createVNode)("span",le,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(41),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[se],64))])]})),_:1},8,["modelValue","disabled","onInput"])]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",de,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Purchase Limit"))+": ",1),Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",ue,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Purchase Limit"))+": ",1),e.isShowNoLimit?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Unlimited")),1)],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[0==e.offering.data.units?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[be],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.min,e.offering.data.unitDecimals,0)))+"-"+Object(c.toDisplayString)(0==e.offering.data.max?e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.units,e.offering.data.unitDecimals,0)):e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.max,e.offering.data.unitDecimals,0)))+" "+Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))],64))])),me,Object(c.createVNode)("span",pe,Object(c.toDisplayString)(e.t("Purchase By Value")),1),Object(c.createVNode)("div",fe,[Object(c.createVNode)(Te,{modelValue:e.submitForm.payment,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.submitForm.payment=t}),mode:"decimal",decimals:6,border:!0,placeholder:"0.0",disabled:!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.isTimeOutOffering,onInput:e.handlePaymentInput},{suffix:i((function(){return[Object(c.createVNode)("span",{class:"paste txt-active mg-r-point-38-rem btn",onClick:t[3]||(t[3]=function(){return e.handleMaxAvailableAmount&&e.handleMaxAvailableAmount.apply(e,arguments)})},Object(c.toDisplayString)(e.$t("MAX")),1),Object(c.createVNode)("span",Oe,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ve,{key:0,visible:!0,width:e.$filters.pxToRem(41),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))])]})),_:1},8,["modelValue","disabled","onInput"])]),Object(c.createVNode)("span",ge,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Wallet Balance"))+": ",1),Object(c.createVNode)(Ve,{visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Wallet Balance"))+": "+Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.account.currencyBalance,e.offering.data.currency.decimals,6)))+" "+Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))]),Object(c.createVNode)("div",je,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("div",ye,[Object(c.createVNode)(Se,{size:"medium",full:!0,plain:"",loading:e.isConfirming,disabled:!e.allowConfirm,onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[e.needApprove?(Object(c.openBlock)(),Object(c.createBlock)("div",he,[Object(c.createVNode)("div",ve,[Object(c.createVNode)(Se,{size:"medium",full:!0,plain:"",onClick:e.handleApprove,disabled:e.isApproving,loading:e.isApproving},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Approve")),1)]})),_:1},8,["onClick","disabled","loading"])]),Object(c.createVNode)("div",Be,[Object(c.createVNode)(Se,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])])):(Object(c.openBlock)(),Object(c.createBlock)("div",ke,[Object(c.createVNode)(Se,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,plain:"",onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("".concat(e.confirmButtonText))),1)]})),_:1},8,["loading","disabled","onClick"])]))],64))])])])])])]})),_:1}),e.commonData.visibleLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ce,{key:0,visible:e.commonData.visibleLoading,onClose:t[5]||(t[5]=function(t){return e.commonData.visibleLoading=!1}),onTxDone:e.handleTxDone,needDone:!0},null,8,["visible","onTxDone"])):Object(c.createCommentVNode)("",!0),e.commonData.visibleTxFinish?(Object(c.openBlock)(),Object(c.createBlock)(Fe,{key:1,visible:e.commonData.visibleTxFinish,hash:e.commonData.txHash,title:"Purchase Completed",onClose:t[6]||(t[6]=function(t){return e.commonData.visibleTxFinish=!1})},null,8,["visible","hash"])):Object(c.createCommentVNode)("",!0)],64)})),we=(a("b680"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("4de4"),a("9ab4")),xe=a("e205"),Ve=a("4be1"),De=a("9998"),Te=a("52f9"),Se=a("9ddb"),Pe=a("a6f3"),Ce=a("f41c"),Fe=a("2739"),$e=a("9707"),Ae=a("f94c"),Ue=a("1d85"),Le=a("1c5c"),Me=a("88c6"),Re=a("901e"),Ie=a("6573"),qe=a.n(Ie),_e=a("47e2"),Ye=a("6c02"),Ee=Object(c.defineComponent)({components:{PageWrapper:Ce.a,DaSkeleton:De.a,DaInput:Ve.a,DaButton:xe.a,OutputHref:Pe.a,Loading:Se.a,TxFinish:Te.a},setup:function(){var e=Object(Le.a)().getters,t=Object(Ye.c)().params.offeringId,a=Object(_e.b)().t,i=Fe.a,n=Object(c.reactive)({visibleLoading:!1,visibleTxFinish:!1,txHash:""}),r=Object(c.reactive)({data:void 0,mintParams:void 0,price:void 0,spotPrice:0,isBuyerAllowed:!0,purchasedUnits:"0",offeringId:t}),o=Object(c.reactive)({currencyBalance:0,currencyAllowance:0}),l=Object(c.reactive)({amount:"",payment:""}),s=Object(c.ref)(!0),d=Object(c.ref)(!1),u=Object(c.ref)(!1),b=Object(c.computed)((function(){return void 0===r.data?0:new Re.BigNumber(""+r.data.units).dividedBy(new Re.BigNumber(""+r.data.totalUnits)).toFixed(2,3)})),m=Object(c.computed)((function(){return void 0===r.data?0:new Re.BigNumber("1").minus(new Re.BigNumber(""+r.data.units).dividedBy(new Re.BigNumber(""+r.data.totalUnits))).multipliedBy(new Re.BigNumber("100")).toFixed(2,3)})),p=Object(c.computed)((function(){return!!s.value||(!r.data.useAllowList||r.isBuyerAllowed)})),f=Object(c.computed)((function(){return!s.value&&(!$e.a.equal("0",r.data.max)&&$e.a.compOrEqual(r.purchasedUnits,r.data.max))})),O=Object(c.computed)((function(){if(s.value)return!1;if($e.a.equal("0",r.data.max))return!1;if(""==l.amount)return $e.a.comp(r.purchasedUnits,r.data.max);var e=new Re.BigNumber(""+l.amount).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.unitDecimals))),t=new Re.BigNumber(""+r.purchasedUnits).plus(e);return $e.a.comp(t.toString(10),r.data.max)})),g=Object(c.computed)((function(){if(s.value)return!0;var e=$e.a.getCurrentTime();return r.data.startTime-e>=0})),j=Object(c.computed)((function(){return!s.value&&$e.a.getCurrentTime()-r.data.endTime>=0})),y=Object(c.computed)((function(){if(s.value)return!1;if(""==l.payment)return!1;var e=new Re.BigNumber(""+l.payment).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals)));return!e.isNaN()&&$e.a.comp(e.toString(10),o.currencyBalance)})),h=Object(c.computed)((function(){if(s.value)return!1;if(!p.value)return!1;if(!B())return!1;var e=new Re.BigNumber(""+l.payment).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals)));return e.isNaN()?!$e.a.compOrEqual(o.currencyAllowance,0):!$e.a.compOrEqual(o.currencyAllowance,e.toString(10))})),v=Object(c.computed)((function(){return!s.value&&($e.a.comp(r.data.units,"0")&&$e.a.equal(r.data.max,"0")&&$e.a.compOrEqual(r.data.min,r.data.units))}));function B(){var e=new Re.BigNumber(""+l.amount).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.unitDecimals))),t=new Re.BigNumber(""+l.payment).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals)));return!e.isNaN()&&!t.isNaN()&&(!$e.a.compOrEqual("0",e.toString(10))&&!$e.a.compOrEqual("0",t.toString(10))&&($e.a.comp(r.data.min,e.toString(10))?!!$e.a.comp(r.data.min,r.data.units)&&(!$e.a.comp(e.toString(10),r.data.units)&&!$e.a.comp(t.toString(10),o.currencyBalance)):$e.a.comp(r.data.max,"0")?!$e.a.comp(e.toString(10),r.data.max):!$e.a.comp(e.toString(10),r.data.units)&&!$e.a.comp(t.toString(10),o.currencyBalance)))}var k=Object(c.computed)((function(){return!s.value&&(!u.value&&(!h.value&&B()))})),N=Object(c.computed)((function(){return g.value?"Upcoming":p.value?f.value||O.value?"Purchase limit reached":j.value?"Closed":y.value?"Insufficient Wallet Balance":"Buy":"Your address is not in the whitelist"})),w=Object(c.computed)((function(){return s.value?"--":Object(Ue.b)().calRateByPrice(r.spotPrice,r.mintParams.lowestPrice)+"%"}));function x(t){return Object(we.b)(this,void 0,Promise,(function(){return Object(we.e)(this,(function(a){return[2,new Promise((function(a,c){Promise.all([Object(Ue.b)().currencyBalanceOf(t,e.getAccount),Object(Ue.b)().currencyAllowance(t,e.getAccount)]).then((function(e){a(e)})).catch((function(e){c(e)}))}))]}))}))}function V(a){return void 0===a&&(a=!0),Object(we.b)(this,void 0,Promise,(function(){var c=this;return Object(we.e)(this,(function(i){return s.value=a,Promise.all([Object(Ue.b)().offerings(t),Object(Ue.b)().mintParameters(t),Object(Ue.b)().getPrice(t),Object(Ue.b)().purchasedUnits(t,e.getAccount)]).then((function(t){return Object(we.b)(c,void 0,void 0,(function(){var a,c,i;return Object(we.e)(this,(function(n){switch(n.label){case 0:return r.data=t[0],r.mintParams=t[1],r.price=t[2],r.purchasedUnits=t[3],[4,x(r.data.currency.address)];case 1:return a=n.sent(),o.currencyBalance=a[0],o.currencyAllowance=a[1],c=r,[4,Object(Ue.b)().isBuyerAllowed(r.data.voucher.address,e.getAccount)];case 2:return c.isBuyerAllowed=n.sent(),(i=e.getTokenPrices.filter((function(e){return e.currencySymbol.toLowerCase()==r.data.voucher.underlyingToken.symbol.toLowerCase()}))).length>0&&(r.spotPrice=i[0].price),s.value=!1,[2]}}))}))})).catch((function(e){console.log("error",e)})),[2]}))}))}return Object(c.watch)((function(){return e.getChangeFlag}),(function(e){e&&V()})),Object(c.watch)((function(){return e.getTokenPrices}),(function(e){if(void 0!==r.data){var t=e.filter((function(e){return e.currencySymbol.toLowerCase()==r.data.voucher.underlyingToken.symbol.toLowerCase()}));t.length>0&&(r.spotPrice=t[0].price)}})),Object(c.watch)((function(){return e.getLastTxReceipt}),(function(e){e&&(l.amount="",l.payment="",V(!1))})),Object(c.onMounted)((function(){e.getChangeFlag&&V()})),{offering:r,isLoading:s,t:a,availablePercent:b,availablePercentText:m,useVestingPeriodUnit:function(){return 2==r.mintParams.claimType?"":r.mintParams.terms[0]/86400>1?" Days":" Day"},submitForm:l,account:o,handlePaymentInput:function(e){return Object(we.b)(this,void 0,void 0,(function(){var a;return Object(we.e)(this,(function(c){switch(c.label){case 0:return""==e?(l.amount="",[2]):1!=r.data.priceType?[3,2]:(a=r,[4,Object(Ue.b)().getPrice(t)]);case 1:a.price=c.sent(),c.label=2;case 2:return l.amount=new Re.BigNumber(""+e).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals))).dividedBy(new Re.BigNumber(""+r.price)).toFixed(8,3),[2]}}))}))},handleAmountInput:function(e){return Object(we.b)(this,void 0,void 0,(function(){var a;return Object(we.e)(this,(function(c){switch(c.label){case 0:return""==e?(l.payment="",[2]):1!=r.data.priceType?[3,2]:(a=r,[4,Object(Ue.b)().getPrice(t)]);case 1:a.price=c.sent(),c.label=2;case 2:return l.payment=new Re.BigNumber(""+e).multipliedBy(new Re.BigNumber(""+r.price)).dividedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3),[2]}}))}))},needApprove:h,isApproving:d,isConfirming:u,handleApprove:function(){return Object(we.b)(this,void 0,Promise,(function(){var e,t;return Object(we.e)(this,(function(c){switch(c.label){case 0:if(d.value)return[2];c.label=1;case 1:return c.trys.push([1,5,,6]),d.value=!0,[4,Object(Ue.b)().currencyApprove(r.data.currency.address)];case 2:return[4,c.sent().wait()];case 3:return c.sent(),[4,x(r.data.currency.address)];case 4:return e=c.sent(),o.currencyBalance=e[0],o.currencyAllowance=e[1],d.value=!1,[3,6];case 5:return t=c.sent(),qe.a.error(a(Object(Ae.a)().parseErrorInfo(t))),d.value=!1,[3,6];case 6:return[2]}}))}))},allowConfirm:k,handleConfirm:function(){return Object(we.b)(this,void 0,Promise,(function(){var e,c,i,o;return Object(we.e)(this,(function(s){switch(s.label){case 0:if(u.value)return[2];s.label=1;case 1:return s.trys.push([1,6,,7]),u.value=!0,e=new Re.BigNumber(""+l.amount).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.unitDecimals))),c=void 0,"SYSTEM"!=r.data.currency.type?[3,3]:(i=new Re.BigNumber(""+l.payment).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals))),[4,Object(Ue.b)().buy(t,e.toString(10),i.toString(10))]);case 2:return c=s.sent(),[3,5];case 3:return[4,Object(Ue.b)().buy(t,e.toString(10))];case 4:c=s.sent(),s.label=5;case 5:return Object(Me.b)(c),u.value=!1,n.visibleLoading=!0,[3,7];case 6:return o=s.sent(),qe.a.error(a(Object(Ae.a)().parseErrorInfo(o))),u.value=!1,[3,7];case 7:return[2]}}))}))},handleMaxAvailableAmount:function(){return Object(we.b)(this,void 0,void 0,(function(){var a,c,i,n,d;return Object(we.e)(this,(function(u){switch(u.label){case 0:return s.value||(!p.value||g.value||f.value||j.value)?[2]:1!=r.data.priceType?[3,2]:(a=r,[4,Object(Ue.b)().getPrice(t)]);case 1:a.price=u.sent(),u.label=2;case 2:return $e.a.comp("0",o.currencyBalance)?(l.amount=0,l.payment=0,[2]):(c=new Re.BigNumber(""+o.currencyBalance).dividedBy(new Re.BigNumber(""+r.price)).multipliedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.unitDecimals))).toFixed(0,3),$e.a.equal("0",r.data.max)?(i=r.data.units,[3,5]):[3,3]);case 3:return[4,Object(Ue.b)().purchasedUnits(t,e.getAccount)];case 4:n=u.sent(),d=new Re.BigNumber(""+r.data.max).minus(new Re.BigNumber(""+n)).toFixed(0,3),i=$e.a.compOrEqual(d,r.data.units)?r.data.units:d,u.label=5;case 5:return $e.a.compOrEqual(c,i)?(l.amount=$e.a.tokenDivDecimals(i,r.data.unitDecimals,8),l.payment=new Re.BigNumber(""+i).dividedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.unitDecimals))).multipliedBy(new Re.BigNumber(""+r.price)).dividedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3)):(l.payment=new Re.BigNumber(""+o.currencyBalance).dividedBy(new Re.BigNumber("10").pow(new Re.BigNumber(""+r.data.currency.decimals))).toFixed(r.data.currency.decimals,3),l.amount=new Re.BigNumber(""+o.currencyBalance).dividedBy(new Re.BigNumber(""+r.price)).toFixed(8,3)),l.amount=$e.a.hideMantissa(l.amount),l.payment=$e.a.hideMantissa(l.payment),[2]}}))}))},allowPurchase:p,isUpcomingOffering:g,purchaseMaxUnits:f,calPurchaseMaxUnits:O,isTimeOutOffering:j,isInsufficientWalletBalance:y,confirmButtonText:N,commonData:n,handleTxDone:function(e,t){n.txHash=t,n.visibleTxFinish=!0},isShowNoLimit:v,solvMisc:i,parseUnlockDate:function(e,t){return $e.a.dateFormat(1e3*(e+t))},rate:w}}});a("32f5");Ee.render=Ne,Ee.__scopeId="data-v-51d5e423";t.default=Ee}}]);