(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a365808e"],{7114:function(e,t,a){"use strict";a("b134")},b134:function(e,t,a){},e61c:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),i=Object(c.withScopeId)("data-v-62ca009a");Object(c.pushScopeId)("data-v-62ca009a");var n=Object(c.createVNode)("div",{class:"flex-col items-center image-wrapper"},null,-1),r={class:"flex-row detail-group"},o={class:"flex-row"},l={class:"ivo-text"},s={class:"mod flex-row justify-center items-center"},d={class:"flex-row equal-division"},u={class:"flex-col"},b={class:"flex-col equal-division-item"},m={class:"vesting-group"},p={class:"flex-row top-inner"},g={class:"flex-col vesting-right-group"},O={class:"text_23"},j={class:"text_24"},f={class:"flex-col content-inner"},y={class:"text_25"},h={class:"justify-between group_9"},v={class:"group_10"},k={class:"text_26"},B={class:"text_27"},N={class:"flex-row group_11"},x={key:0,class:"chart-con"},w={class:"chart"},D={width:"0.98rem",height:"0.98rem",viewBox:"0 0 120 120"},T=Object(c.createVNode)("circle",{cx:"60",cy:"60",r:"50",fill:"none",stroke:"rgba(176,77,255,.4)","stroke-width":"8"},null,-1),V={class:"text_28"},S={key:0,class:"text_29"},P={key:1,class:"text_29"},_={key:2,class:"text_30"},C={key:3,class:"text_30"},F={class:"flex-col vouchinfo-section"},M={class:"flex-col group_5"},$={class:"text_13"},A={class:"text-wrapper_1"},L={class:"flex-col items-center justify-center  pag"},U={key:0},R=Object(c.createVNode)("em",{class:"inner"},null,-1),Y={key:0,class:"text_15 effective"},I=Object(c.createVNode)("div",{class:"divider"},null,-1),E={class:"text_15 effective"},q={class:"text_15 m_t_16"},H={key:1,class:"text_15"},W=Object(c.createVNode)("div",{class:"divider"},null,-1),z={key:0,class:"text_15 effective"},X={key:1,class:"text_15"},J={class:"text_15 m_t_16"},G=Object(c.createVNode)("div",{class:"divider"},null,-1),K={class:"text_18"},Q=Object(c.createVNode)("div",{class:"divider"},null,-1),Z={class:"text_18"},ee={class:"flex-col equal-division-item_1"},te={class:"flex-col section_5"},ae={class:"flex-col items-center text-wrapper_3"},ce={class:"justify-center group_12"},ie={class:"flex-row group_13"},ne=Object(c.createVNode)("span",{class:"text_32"},"1",-1),re={class:"text_33"},oe=Object(c.createVNode)("span",{class:"text_34"},"=",-1),le={class:"flex-row group_14"},se={class:"text_35"},de={class:"text_36"},ue={class:"flex-col section_6"},be={class:"text_37"},me={class:"justify-between section_x"},pe={class:"paste"},ge={key:0,class:"text_41"},Oe={key:1,class:"text_41"},je=Object(c.createTextVNode)(" 0.00 "),fe=Object(c.createVNode)("span",{class:"flex-col items-center flow or-txt"},"OR",-1),ye={class:"text_42"},he={class:"flex-col items-end section_x"},ve={class:"paste"},ke={class:"text_44"},Be={class:"flex-col text-wrapper_5"},Ne={key:0,class:"single-button-container"},xe={key:0,class:"muti-button-container"},we={class:"button-item pd-right-10"},De={class:"button-item pd-left-10"},Te={key:1,class:"single-button-container"};Object(c.popScopeId)();var Ve=i((function(e,t,a,Ve,Se,Pe){var _e=Object(c.resolveComponent)("DaSkeleton"),Ce=Object(c.resolveComponent)("OutputHref"),Fe=Object(c.resolveComponent)("DaInput"),Me=Object(c.resolveComponent)("DaButton"),$e=Object(c.resolveComponent)("PageWrapper"),Ae=Object(c.resolveComponent)("Loading"),Le=Object(c.resolveComponent)("TxFinish");return Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,[n,Object(c.createVNode)($e,{showBreadcrumbs:!0},{default:i((function(){return[Object(c.createVNode)("div",r,[Object(c.createVNode)("p",o,[Object(c.createVNode)("span",l,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(320),height:e.$filters.pxToRem(56)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data&&"Vesting"==e.offering.data.voucher.type?e.t("PrimaryMarket.Detail['FIXED DATE ']"):e.t("PrimaryMarket.Detail['FLEXIBLE DATE ']"))+"IVO ",1)],64))])]),Object(c.createVNode)("div",s,[e.offering.data&&e.offering.data.voucher?(Object(c.openBlock)(),Object(c.createBlock)(Ce,{key:0,visibleEtherscan:!1,visibleOpensea:!1,underlyingSymbol:e.offering.data.voucher.underlyingToken.symbol,underlyingAddress:e.offering.data.voucher.underlyingToken.address},null,8,["underlyingSymbol","underlyingAddress"])):Object(c.createCommentVNode)("",!0)]),Object(c.createVNode)("div",d,[Object(c.createVNode)("div",u,[Object(c.createVNode)("div",b,[Object(c.createVNode)("div",null,[Object(c.createVNode)("div",m,[Object(c.createVNode)("div",p,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,class:"detail-image"})):(Object(c.openBlock)(),Object(c.createBlock)("img",{key:1,src:e.offering.data.voucher.underlyingToken.logoURI,class:"detail-image"},null,8,["src"])),Object(c.createVNode)("div",g,[Object(c.createVNode)("span",O,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(30)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol)+" IVO "+Object(c.toDisplayString)(e.t("Order"))+" #"+Object(c.toDisplayString)(e.offering.offeringId),1)],64))]),Object(c.createVNode)("span",j,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(20)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Total"))+": "+Object(c.toDisplayString)(e.$filters.beautyAmount(e.$filters.tokenDivDecimals(e.offering.data.totalUnits,e.offering.data.voucher.underlyingToken.decimals,2),"token",2))+" "+Object(c.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol),1)],64))])])])]),Object(c.createVNode)("div",f,[Object(c.createVNode)("span",y,Object(c.toDisplayString)(e.t("Remaining")),1),Object(c.createVNode)("div",h,[Object(c.createVNode)("div",v,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(25)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createVNode)("span",k,Object(c.toDisplayString)(e.$filters.beautyAmount(e.$filters.tokenDivDecimals(e.offering.data.units,e.offering.data.voucher.underlyingToken.decimals,2),"token",2)),1),Object(c.createVNode)("span",B,Object(c.toDisplayString)(" ".concat(e.offering.data.voucher.underlyingToken.symbol)),1)],64))]),Object(c.createVNode)("div",N,[e.isLoading?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createBlock)("div",x,[Object(c.createVNode)("div",w,[(Object(c.openBlock)(),Object(c.createBlock)("svg",D,[T,Object(c.createVNode)("circle",{class:"percent",cx:"60",cy:"60",r:"50",fill:"none",stroke:"#B04DFF","stroke-width":"8",pathLength:"100",style:"stroke-dashoffset:".concat(100-100*e.availablePercent)},null,4)])),Object(c.createVNode)("span",V,Object(c.toDisplayString)(100*e.availablePercent)+"%",1)])]))])]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",S,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Participating Condition']"))+"：",1),Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(80),height:e.$filters.pxToRem(16)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",P,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Participating Condition']"))+"："+Object(c.toDisplayString)(e.offering.data.useAllowList?" ".concat(e.t("Project Whitelist")):" ".concat(e.t("None"))),1)),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",_,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Duration']")+" (UTC)")+": ",1),Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(220),height:e.$filters.pxToRem(16)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",C,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Duration']")+" (UTC)")+":"+Object(c.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.startTime,"YYYY-MM-DD HH:mm")," "))+"to"+Object(c.toDisplayString)(" ".concat(e.$filters.dayjsUTCFormat(1e3*e.offering.data.endTime,"YYYY-MM-DD HH:mm")," ")),1))])])]),Object(c.createVNode)("div",F,[Object(c.createVNode)("div",M,[Object(c.createVNode)("span",$,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Voucher Information']")),1),Object(c.createVNode)("div",A,[Object(c.createVNode)("div",L,[e.isLoading?Object(c.createCommentVNode)("",!0):(Object(c.openBlock)(),Object(c.createBlock)("span",U,Object(c.toDisplayString)(e.t("".concat(e.offering.mintParams.getClaimTypeDesc()))),1)),R])])]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,null,Object(c.renderList)(2,(function(t,a){return Object(c.createVNode)("span",{class:"text_15",key:a},[Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(400),height:e.$filters.pxToRem(20)},null,8,["width","height"])])})),64)),Q,Object(c.createVNode)("span",Z,[Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(450),height:e.$filters.pxToRem(20)},null,8,["width","height"])])],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[2==e.offering.mintParams.claimType?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[2==e.offering.mintParams.timeType?(Object(c.openBlock)(),Object(c.createBlock)("span",Y,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Release Start Date']"))+": "+Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['To be determined, no later than ']"))+Object(c.toDisplayString)(e.$filters.dayjsFormat(1e3*e.offering.mintParams.latestStartTime,"YYYY-MM-DD")),1)):Object(c.createCommentVNode)("",!0),(Object(c.openBlock)(!0),Object(c.createBlock)(c.Fragment,null,Object(c.renderList)(e.offering.mintParams.terms,(function(t,a){return Object(c.openBlock)(),Object(c.createBlock)("span",{class:"text_15",key:a},Object(c.toDisplayString)(e.t("Unlock "))+Object(c.toDisplayString)(a+1)+": "+Object(c.toDisplayString)(e.offering.mintParams.terms[a]/86400)+" "+Object(c.toDisplayString)(e.t("Days"))+", "+Object(c.toDisplayString)(e.t("Unlock "))+Object(c.toDisplayString)(e.offering.mintParams.percentages[a]/100)+"% ",1)})),128)),I],64)):Object(c.createCommentVNode)("",!0),1==e.offering.mintParams.claimType?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[2==e.offering.mintParams.timeType?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createVNode)("span",E,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Release Start Date']"))+": "+Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['To be determined, no later than ']"))+Object(c.toDisplayString)(e.$filters.dayjsFormat(1e3*e.offering.mintParams.latestStartTime,"YYYY-MM-DD")),1),Object(c.createVNode)("span",q,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Vesting Period']"))+": "+Object(c.toDisplayString)(Math.round(e.offering.mintParams.terms[0]/86400))+Object(c.toDisplayString)(e.useVestingPeriodUnit()),1)],64)):(Object(c.openBlock)(),Object(c.createBlock)("span",H,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Vesting Date (UTC)']"))+": "+Object(c.toDisplayString)(e.$filters.dayjsFormat(1e3*(e.offering.mintParams.latestStartTime+e.offering.mintParams.terms[0]),"YYYY-MM-DD")),1)),W],64)):Object(c.createCommentVNode)("",!0),0==e.offering.mintParams.claimType?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:2},[2==e.offering.mintParams.timeType?(Object(c.openBlock)(),Object(c.createBlock)("span",z,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Release Start Date']"))+": "+Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['To be determined, no later than ']"))+Object(c.toDisplayString)(e.$filters.dayjsFormat(1e3*e.offering.mintParams.latestStartTime,"YYYY-MM-DD")),1)):(Object(c.openBlock)(),Object(c.createBlock)("span",X,Object(c.toDisplayString)(e.t("Start From (UTC)"))+": "+Object(c.toDisplayString)(e.$filters.dayjsFormat(1e3*e.offering.mintParams.latestStartTime,"YYYY-MM-DD")),1)),Object(c.createVNode)("span",J,Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['Vesting Period']"))+": "+Object(c.toDisplayString)(Math.round(e.offering.mintParams.terms[0]/86400))+Object(c.toDisplayString)(e.t("PrimaryMarket.Detail['".concat(e.useVestingPeriodUnit(),"']"))),1),G],64)):Object(c.createCommentVNode)("",!0),Object(c.createVNode)("span",K,Object(c.toDisplayString)(e.t("Date and time are all UTC. Vouchers from IVO will be converted to vesting vouchers at public sale and tokens will start to be unlocked then.")),1)],64))])]),Object(c.createVNode)("div",ee,[Object(c.createVNode)("div",te,[Object(c.createVNode)("div",ae,[Object(c.createVNode)("span",null,"Spot price: "+Object(c.toDisplayString)(e.$filters.beautyAmount(e.offering.spotPrice,"2")),1)]),Object(c.createVNode)("div",ce,[Object(c.createVNode)("div",ie,[ne,Object(c.createVNode)("span",re,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(60),height:e.$filters.pxToRem(20)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol),1)],64))])]),oe,Object(c.createVNode)("div",le,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(80),height:e.$filters.pxToRem(38)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createVNode)("span",se,Object(c.toDisplayString)(e.$filters.tokenDivDecimals(e.offering.price,e.offering.data.currency.decimals,2)),1),Object(c.createVNode)("span",de,Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))])])]),Object(c.createVNode)("div",ue,[Object(c.createVNode)("span",be,Object(c.toDisplayString)(e.t("Purchase By Amount")),1),Object(c.createVNode)("div",me,[Object(c.createVNode)(Fe,{modelValue:e.submitForm.amount,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.submitForm.amount=t}),mode:"decimal",decimals:6,border:!0,placeholder:"0.0",disabled:!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.isTimeOutOffering,onInput:e.handleAmountInput},{suffix:i((function(){return[Object(c.createVNode)("span",{class:"paste txt-active mg-r-point-38-rem btn",onClick:t[1]||(t[1]=function(){return e.handleMaxAvailableAmount&&e.handleMaxAvailableAmount.apply(e,arguments)})},Object(c.toDisplayString)(e.$t("MAX")),1),Object(c.createVNode)("span",pe,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(41),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.$t("".concat(e.offering.data?e.offering.data.voucher.underlyingToken.symbol:""))),1)],64))])]})),_:1},8,["modelValue","disabled","onInput"])]),e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("span",ge,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Purchase Limit"))+": ",1),Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])])):(Object(c.openBlock)(),Object(c.createBlock)("span",Oe,[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Purchase Limit"))+": ",1),e.isShowNoLimit?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Unlimited")),1)],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[0==e.offering.data.units?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[je],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.min,e.offering.data.voucher.underlyingToken.decimals,0)))+"-"+Object(c.toDisplayString)(0==e.offering.data.max?e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.units,e.offering.data.voucher.underlyingToken.decimals,0)):e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.offering.data.max,e.offering.data.voucher.underlyingToken.decimals,0)))+" "+Object(c.toDisplayString)(e.offering.data.voucher.underlyingToken.symbol),1)],64))],64))])),fe,Object(c.createVNode)("span",ye,Object(c.toDisplayString)(e.t("Purchase By Value")),1),Object(c.createVNode)("div",he,[Object(c.createVNode)(Fe,{modelValue:e.submitForm.payment,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.submitForm.payment=t}),mode:"decimal",decimals:6,border:!0,placeholder:"0.0",disabled:!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.isTimeOutOffering,onInput:e.handlePaymentInput},{suffix:i((function(){return[Object(c.createVNode)("span",{class:"paste txt-active mg-r-point-38-rem btn",onClick:t[3]||(t[3]=function(){return e.handleMaxAvailableAmount&&e.handleMaxAvailableAmount.apply(e,arguments)})},Object(c.toDisplayString)(e.$t("MAX")),1),Object(c.createVNode)("span",ve,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(_e,{key:0,visible:!0,width:e.$filters.pxToRem(41),height:e.$filters.pxToRem(18)},null,8,["width","height"])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))])]})),_:1},8,["modelValue","disabled","onInput"])]),Object(c.createVNode)("span",ke,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:0},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Wallet Balance"))+": ",1),Object(c.createVNode)(_e,{visible:!0,width:e.$filters.pxToRem(120),height:e.$filters.pxToRem(18)},null,8,["width","height"])],64)):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Wallet Balance"))+": "+Object(c.toDisplayString)(e.$filters.parseThousandsValue(e.$filters.tokenDivDecimals(e.account.currencyBalance,e.offering.data.currency.decimals,6)))+" "+Object(c.toDisplayString)(e.offering.data.currency.symbol),1)],64))]),Object(c.createVNode)("div",Be,[e.isLoading?(Object(c.openBlock)(),Object(c.createBlock)("div",Ne,[Object(c.createVNode)(Me,{size:"medium",full:!0,plain:"",loading:e.isConfirming,disabled:!e.allowConfirm,onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])):(Object(c.openBlock)(),Object(c.createBlock)(c.Fragment,{key:1},[e.needApprove?(Object(c.openBlock)(),Object(c.createBlock)("div",xe,[Object(c.createVNode)("div",we,[Object(c.createVNode)(Me,{size:"medium",full:!0,plain:"",onClick:e.handleApprove,disabled:e.isApproving,loading:e.isApproving},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Approve")),1)]})),_:1},8,["onClick","disabled","loading"])]),Object(c.createVNode)("div",De,[Object(c.createVNode)(Me,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("Buy")),1)]})),_:1},8,["loading","disabled","onClick"])])])):(Object(c.openBlock)(),Object(c.createBlock)("div",Te,[Object(c.createVNode)(Me,{size:"medium",full:!0,loading:e.isConfirming,disabled:!e.allowConfirm||!e.allowPurchase||e.isUpcomingOffering||e.purchaseMaxUnits||e.calPurchaseMaxUnits||e.isTimeOutOffering,plain:"",onClick:e.handleConfirm},{default:i((function(){return[Object(c.createTextVNode)(Object(c.toDisplayString)(e.t("".concat(e.confirmButtonText))),1)]})),_:1},8,["loading","disabled","onClick"])]))],64))])])])])])]})),_:1}),e.commonData.visibleLoading?(Object(c.openBlock)(),Object(c.createBlock)(Ae,{key:0,visible:e.commonData.visibleLoading,onClose:t[5]||(t[5]=function(t){return e.commonData.visibleLoading=!1}),onTxDone:e.handleTxDone,needDone:!0},null,8,["visible","onTxDone"])):Object(c.createCommentVNode)("",!0),e.commonData.visibleTxFinish?(Object(c.openBlock)(),Object(c.createBlock)(Le,{key:1,visible:e.commonData.visibleTxFinish,hash:e.commonData.txHash,title:"Purchase Completed",onClose:t[6]||(t[6]=function(t){return e.commonData.visibleTxFinish=!1})},null,8,["visible","hash"])):Object(c.createCommentVNode)("",!0)],64)})),Se=(a("b680"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("4de4"),a("9ab4")),Pe=a("e205"),_e=a("4be1"),Ce=a("9998"),Fe=a("52f9"),Me=a("9ddb"),$e=a("a6f3"),Ae=a("f41c"),Le=a("9707"),Ue=a("f94c"),Re=a("1d85"),Ye=a("1c5c"),Ie=a("88c6"),Ee=a("901e"),qe=a("6573"),He=a.n(qe),We=a("47e2"),ze=a("6c02"),Xe=Object(c.defineComponent)({components:{PageWrapper:Ae.a,DaSkeleton:Ce.a,DaInput:_e.a,DaButton:Pe.a,OutputHref:$e.a,Loading:Me.a,TxFinish:Fe.a},setup:function(){var e=Object(Ye.a)().getters,t=Object(ze.c)().params.offeringId,a=Object(We.b)().t,i=Object(c.reactive)({visibleLoading:!1,visibleTxFinish:!1,txHash:""}),n=Object(c.reactive)({data:void 0,mintParams:void 0,price:void 0,spotPrice:0,isBuyerAllowed:!0,purchasedUnits:"0",offeringId:t}),r=Object(c.reactive)({currencyBalance:0,currencyAllowance:0}),o=Object(c.reactive)({amount:"",payment:""}),l=Object(c.ref)(!0),s=Object(c.ref)(!1),d=Object(c.ref)(!1),u=Object(c.computed)((function(){return void 0===n.data?0:new Ee.BigNumber(""+n.data.units).dividedBy(new Ee.BigNumber(""+n.data.totalUnits)).toFixed(2,3)})),b=Object(c.computed)((function(){return!!l.value||(!n.data.useAllowList||n.isBuyerAllowed)})),m=Object(c.computed)((function(){return!l.value&&(!Le.a.equal("0",n.data.max)&&Le.a.compOrEqual(n.purchasedUnits,n.data.max))})),p=Object(c.computed)((function(){if(l.value)return!1;if(Le.a.equal("0",n.data.max))return!1;if(""==o.amount)return Le.a.comp(n.purchasedUnits,n.data.max);var e=new Ee.BigNumber(""+o.amount).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.voucher.underlyingToken.decimals))),t=new Ee.BigNumber(""+n.purchasedUnits).plus(e);return Le.a.comp(t.toString(10),n.data.max)})),g=Object(c.computed)((function(){if(l.value)return!0;var e=Le.a.getCurrentTime();return n.data.startTime-e>=0})),O=Object(c.computed)((function(){return!l.value&&Le.a.getCurrentTime()-n.data.endTime>=0})),j=Object(c.computed)((function(){if(l.value)return!1;if(""==o.payment)return!1;var e=new Ee.BigNumber(""+o.payment).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals)));return!e.isNaN()&&Le.a.comp(e.toString(10),r.currencyBalance)})),f=Object(c.computed)((function(){if(l.value)return!1;if(!b.value)return!1;if(!h())return!1;var e=new Ee.BigNumber(""+o.payment).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals)));return e.isNaN()?!Le.a.compOrEqual(r.currencyAllowance,0):!Le.a.compOrEqual(r.currencyAllowance,e.toString(10))})),y=Object(c.computed)((function(){return!l.value&&(Le.a.comp(n.data.units,"0")&&Le.a.equal(n.data.max,"0")&&Le.a.compOrEqual(n.data.min,n.data.units))}));function h(){var e=new Ee.BigNumber(""+o.amount).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.voucher.underlyingToken.decimals))),t=new Ee.BigNumber(""+o.payment).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals)));return!e.isNaN()&&!t.isNaN()&&(!Le.a.compOrEqual("0",e.toString(10))&&!Le.a.compOrEqual("0",t.toString(10))&&(Le.a.comp(n.data.min,e.toString(10))?!!Le.a.comp(n.data.min,n.data.units)&&(!Le.a.comp(e.toString(10),n.data.units)&&!Le.a.comp(t.toString(10),r.currencyBalance)):Le.a.comp(n.data.max,"0")?!Le.a.comp(e.toString(10),n.data.max):!Le.a.comp(e.toString(10),n.data.units)&&!Le.a.comp(t.toString(10),r.currencyBalance)))}var v=Object(c.computed)((function(){return!l.value&&(!d.value&&(!f.value&&h()))})),k=Object(c.computed)((function(){return g.value?"Upcoming":b.value?m.value||p.value?"Purchase limit reached":O.value?"Closed":j.value?"Insufficient Wallet Balance":"Buy":"Your address is not in the whitelist"}));function B(t){return Object(Se.b)(this,void 0,Promise,(function(){return Object(Se.e)(this,(function(a){return[2,new Promise((function(a,c){Promise.all([Object(Re.d)().currencyBalanceOf(t,e.getAccount),Object(Re.d)().currencyAllowance(t,e.getAccount)]).then((function(e){a(e)})).catch((function(e){c(e)}))}))]}))}))}function N(a){return void 0===a&&(a=!0),Object(Se.b)(this,void 0,Promise,(function(){var c=this;return Object(Se.e)(this,(function(i){return l.value=a,Promise.all([Object(Re.d)().offerings(t),Object(Re.d)().mintParameters(t),Object(Re.d)().getPrice(t),Object(Re.d)().purchasedUnits(t,e.getAccount)]).then((function(t){return Object(Se.b)(c,void 0,void 0,(function(){var a,c;return Object(Se.e)(this,(function(i){switch(i.label){case 0:return n.data=t[0],n.mintParams=t[1],n.price=t[2],n.purchasedUnits=t[3],[4,B(n.data.currency.address)];case 1:return a=i.sent(),r.currencyBalance=a[0],r.currencyAllowance=a[1],c=n,[4,Object(Re.d)().isBuyerAllowed(n.data.voucher.address,e.getAccount)];case 2:return c.isBuyerAllowed=i.sent(),l.value=!1,[2]}}))}))})).catch((function(e){console.log("error",e)})),[2]}))}))}return Object(c.watch)((function(){return e.getChangeFlag}),(function(e){e&&N()})),Object(c.watch)((function(){return e.getTokenPrices}),(function(e){if(void 0!==n.data){var t=e.filter((function(e){return e.currencySymbol.toLowerCase()==n.data.voucher.underlyingToken.symbol.toLowerCase()}));t.length>0&&(n.spotPrice=t[0].price)}})),Object(c.watch)((function(){return e.getLastTxReceipt}),(function(e){e&&(o.amount="",o.payment="",N(!1))})),Object(c.onMounted)((function(){e.getChangeFlag&&N()})),{offering:n,isLoading:l,t:a,availablePercent:u,useVestingPeriodUnit:function(){return 2==n.mintParams.claimType?"":n.mintParams.terms[0]/86400>1?" Days":" Day"},submitForm:o,account:r,handlePaymentInput:function(e){return Object(Se.b)(this,void 0,void 0,(function(){var a;return Object(Se.e)(this,(function(c){switch(c.label){case 0:return""==e?(o.amount="",[2]):1!=n.data.priceType?[3,2]:(a=n,[4,Object(Re.d)().getPrice(t)]);case 1:a.price=c.sent(),c.label=2;case 2:return o.amount=new Ee.BigNumber(""+e).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals))).dividedBy(new Ee.BigNumber(""+n.price)).toFixed(n.data.voucher.underlyingToken.decimals,3),[2]}}))}))},handleAmountInput:function(e){return Object(Se.b)(this,void 0,void 0,(function(){var a;return Object(Se.e)(this,(function(c){switch(c.label){case 0:return""==e?(o.payment="",[2]):1!=n.data.priceType?[3,2]:(a=n,[4,Object(Re.d)().getPrice(t)]);case 1:a.price=c.sent(),c.label=2;case 2:return o.payment=new Ee.BigNumber(""+e).multipliedBy(new Ee.BigNumber(""+n.price)).dividedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals))).toFixed(n.data.currency.decimals,3),[2]}}))}))},needApprove:f,isApproving:s,isConfirming:d,handleApprove:function(){return Object(Se.b)(this,void 0,Promise,(function(){var e,t;return Object(Se.e)(this,(function(c){switch(c.label){case 0:if(s.value)return[2];c.label=1;case 1:return c.trys.push([1,5,,6]),s.value=!0,[4,Object(Re.d)().currencyApprove(n.data.currency.address)];case 2:return[4,c.sent().wait()];case 3:return c.sent(),[4,B(n.data.currency.address)];case 4:return e=c.sent(),r.currencyBalance=e[0],r.currencyAllowance=e[1],s.value=!1,[3,6];case 5:return t=c.sent(),He.a.error(a(Object(Ue.a)().parseErrorInfo(t))),s.value=!1,[3,6];case 6:return[2]}}))}))},allowConfirm:v,handleConfirm:function(){return Object(Se.b)(this,void 0,Promise,(function(){var e,c,r,l;return Object(Se.e)(this,(function(s){switch(s.label){case 0:if(d.value)return[2];s.label=1;case 1:return s.trys.push([1,6,,7]),d.value=!0,e=new Ee.BigNumber(""+o.amount).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.voucher.underlyingToken.decimals))),c=void 0,"SYSTEM"!=n.data.currency.type?[3,3]:(r=new Ee.BigNumber(""+o.payment).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals))),[4,Object(Re.d)().buy(t,e.toString(10),r.toString(10))]);case 2:return c=s.sent(),[3,5];case 3:return[4,Object(Re.d)().buy(t,e.toString(10))];case 4:c=s.sent(),s.label=5;case 5:return Object(Ie.b)(c),d.value=!1,i.visibleLoading=!0,[3,7];case 6:return l=s.sent(),He.a.error(a(Object(Ue.a)().parseErrorInfo(l))),d.value=!1,[3,7];case 7:return[2]}}))}))},handleMaxAvailableAmount:function(){return Object(Se.b)(this,void 0,void 0,(function(){var a,c,i,s,d;return Object(Se.e)(this,(function(u){switch(u.label){case 0:return l.value||(!b.value||g.value||m.value||O.value)?[2]:1!=n.data.priceType?[3,2]:(a=n,[4,Object(Re.d)().getPrice(t)]);case 1:a.price=u.sent(),u.label=2;case 2:return Le.a.comp("0",r.currencyBalance)?(o.amount=0,o.payment=0,[2]):(c=new Ee.BigNumber(""+r.currencyBalance).dividedBy(new Ee.BigNumber(""+n.price)).multipliedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.voucher.underlyingToken.decimals))).toFixed(0,3),Le.a.equal("0",n.data.max)?(i=n.data.units,[3,5]):[3,3]);case 3:return[4,Object(Re.d)().purchasedUnits(t,e.getAccount)];case 4:s=u.sent(),d=new Ee.BigNumber(""+n.data.max).minus(new Ee.BigNumber(""+s)).toFixed(0,3),i=Le.a.compOrEqual(d,n.data.units)?n.data.units:d,u.label=5;case 5:return Le.a.compOrEqual(c,i)?(o.amount=Le.a.tokenDivDecimals(i,n.data.voucher.underlyingToken.decimals,n.data.voucher.underlyingToken.decimals),o.payment=new Ee.BigNumber(""+i).dividedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.voucher.underlyingToken.decimals))).multipliedBy(new Ee.BigNumber(""+n.price)).dividedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals))).toFixed(n.data.currency.decimals,3)):(o.payment=new Ee.BigNumber(""+r.currencyBalance).dividedBy(new Ee.BigNumber("10").pow(new Ee.BigNumber(""+n.data.currency.decimals))).toFixed(n.data.currency.decimals,3),o.amount=new Ee.BigNumber(""+r.currencyBalance).dividedBy(new Ee.BigNumber(""+n.price)).toFixed(n.data.voucher.underlyingToken.decimals,3)),o.amount=Le.a.hideMantissa(o.amount),o.payment=Le.a.hideMantissa(o.payment),[2]}}))}))},allowPurchase:b,isUpcomingOffering:g,purchaseMaxUnits:m,calPurchaseMaxUnits:p,isTimeOutOffering:O,isInsufficientWalletBalance:j,confirmButtonText:k,commonData:i,handleTxDone:function(e,t){i.txHash=t,i.visibleTxFinish=!0},isShowNoLimit:y}}});a("7114");Xe.render=Ve,Xe.__scopeId="data-v-62ca009a";t.default=Xe}}]);